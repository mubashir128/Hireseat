<div class="tabsAre">
  <ul class="tabs">
    <li class="tablink" id="switch2" [ngClass]="itemsIs === 2 ? 'tablinkActive' : false" (click)="switchPage(2)">
      Hireseat Network
      <br>
      <span class="row cirDiv">
        {{ onlyCanCount }}
      </span>
    </li>
    <li class="tablink" id="switch0" [ngClass]="itemsIs === 0 ? 'tablinkActive' : false" (click)="switchPage(0)">
      Intros to Companies
      <br>
      <span class="row cirDiv">
        {{ introsToCompaniesCount }}
      </span>
    </li>
    <li class="tablink" id="switch1" [ngClass]="itemsIs === 1 ? 'tablinkActive' : false" (click)="switchPage(1)">
      My Network
      <br>
      <span class="row cirDiv">
        {{ myNetworkCount }}
      </span>
    </li>
  </ul>
</div>

<ng-container *ngIf="showOnlyCan">
  <app-only-for-candidate-shared-profile (introduceToFromOnlyCandidatePageEM)='introduceToFromOnlyCandidatePage($event)' (countEM)='countModules($event)' [(companyName)]="companyName"></app-only-for-candidate-shared-profile>
</ng-container>

<ng-container *ngIf="showRequest">
  <ng-container *ngIf="showCompaniesLoader">
    <div class="loader-container marTop50">
      <div class="loader"></div>
    </div>
  </ng-container>

  <ng-container *ngIf = "!showCompaniesLoader && companiesUsresAre.length == 0">
    <div class="marTop">
      <app-no-data-available ></app-no-data-available>
    </div>
  </ng-container>
  
  <div class="ListResume">
    <div class="singleList employerResume animatePart" *ngFor = "let companiesAre of companiesUsresAre">
      <div class="pro">
        <span style="color: red;">
          {{companiesAre.companyName}}
        </span>
        <br>
        <div class="sideCss">
          <span>- Users who can introduce you to above company : </span>
          <div class="sideCss" *ngFor = "let userList of companiesAre.users; index as indexValue">
            <div class="row" (click) = "gotoUser(userList.user._id)" style="margin: auto;">

              <div *ngIf = "!userList.user.showCreatedLogo" class="big-badge candProfile22">
                <img src="{{ userList.user.profileimage }}" (error)="changeLogo(userList.user)" style="max-width: 100%" />
              </div>
              <div *ngIf = "userList.user.showCreatedLogo" class="big-badge candProfile22">
                {{ userList.user.fullName | uppercase | slice: 0 : 1 }}
              </div>

              <div class="wrdWrap" style="margin-left: 22px !important;">
                {{userList.user.fullName}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-container *ngIf = "showFriends">

  <ng-container *ngIf="showRequestedFriendLoader">
    <div class="loader-container marTop50">
      <div class="loader"></div>
    </div>
  </ng-container>

  <!-- for requested friends slide -->
  <ng-container *ngIf="requestedFriendAre.length">
    <div class="ListResume" style="margin-bottom: 0px !important;">
      <label for="" class="labelStyle">Connection Requests : </label>
      <div class="singleList employerResume animatePart" *ngFor = "let requestedFriendIs of requestedFriendAre">
        <div class="pro">
          <div class="pro-3">

              <div class="pro-1">
                <div class="docSectionBtns lates-s">
                  <div class="candidate-name">
                    <div class="CandidateDetails">
                      <div class="user-details">

                        <div class="row" style="margin: auto;">
                          <div class="col s3 m3 l3" style="width: auto;">
                            <div *ngIf = "!requestedFriendIs.requester.showCreatedLogo" class="big-badge big-badge-wid">
                              <img src="{{ requestedFriendIs.requester.profileimage }}" (error)="changeLogo(requestedFriendIs.requester)" class="iconStyle" style="max-width: 100%" />
                            </div>
                            <div *ngIf = "requestedFriendIs.requester.showCreatedLogo" class="big-badge big-badge-wid">
                              {{ requestedFriendIs.requester.fullName | uppercase | slice: 0 : 1 }}
                            </div>

                            <div class="smallBtns">
                              <button class="LinkedInBtnNew">
                                <a>
                                  <div class="icon-name" (click)="onLinkedIn(requestedFriendIs?.resumeId?.linkedIn)">
                                    <span class="colorWhiteClass">LinkedIn</span>
                                  </div>
                                </a>
                              </button>
                            </div>
                            
                          </div>

                          <div class="col s9 m9 l9 marTop wrdWrap">
                            <span>
                              {{ requestedFriendIs.requester.fullName }}
                            </span>
                          </div>
                        </div>

                        <div class="row marginAuto marOther">
                          <div class="styDiv1">
                            <label class="lblSty"># of Introductions : </label>
                              <label style="font-size: 12px; color: white;">
                                {{ getIntroduceCount(requestedFriendIs, 'resumeId') }}
                              </label>
                          </div>
                        </div>

                        <div class="other-details">
                          <p *ngIf = "requestedFriendIs?.resumeId?.introduceYouToo">
                            <label>I can Intro you to Companies/Teams at :</label>
                              <label style="font-size: 14px; color: #cc530c;">
                                {{ requestedFriendIs?.resumeId?.introduceYouToo}}
                              </label>
                          </p>
                          <p *ngIf = "requestedFriendIs?.resumeId?.jobTitle"><label>Job Title :</label> {{ requestedFriendIs?.resumeId?.jobTitle }}</p>
                          <p *ngIf = "requestedFriendIs?.resumeId?.location"><label>Location :</label> {{ requestedFriendIs?.resumeId?.location }}</p>
                          <p *ngIf = "requestedFriendIs?.resumeId?.desiredRoles">
                            <label>Desired Roles :</label>
                              {{ requestedFriendIs?.resumeId?.desiredRoles }}
                          </p>
                          <p *ngIf = "requestedFriendIs?.resumeId?.desiredCompanies">
                            <label>Desired Companies :</label>
                              {{ requestedFriendIs?.resumeId?.desiredCompanies }}
                          </p>
                          <p *ngIf = "requestedFriendIs?.resumeId?.introduceCount">
                            <label># of Introductions : </label>
                              <label style="font-size: 14px; color: #cc530c;">
                                {{ requestedFriendIs?.resumeId?.introduceCount }}
                              </label>
                          </p>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
        
        <div class="row">
          <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn" (click)="acceptClick(requestedFriendIs)">
                <a>
                  <div class="icon-name">
                    <i class="fa fa-check btn-icon" aria-hidden="true"></i>
                    <span class="btnText"> Accept </span>
                  </div>
                </a>
              </button>
            </div>
          </div>

          <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn cancelBtn" (click)="cancelClick(requestedFriendIs._id)">
                <a>
                  <div class="icon-name">
                    <i class="fa fa-times btn-icon" style="margin: auto !important; float: none !important;" aria-hidden="true"></i>
                    <span class="btnText"> Cancel </span>
                  </div>
                </a>
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </ng-container>

  <!-- for freinds slide -->
  <ng-container *ngIf="friendsConnections.length">

    <ng-container *ngIf="showFriendsConnectionsLoader">
      <div class="loader-container marTop50">
        <div class="loader"></div>
      </div>
    </ng-container>

    <div class="ListResume">
      <label for="" class="labelStyle">Connected Friends : </label>
      <div class="singleList employerResume animatePart" *ngFor = "let friendsAre of friendsConnections">
        <div class="pro" [id] = "'mention_' + friendsAre?.requester._id" *ngIf = "friendsAre?.recipient?._id == loggedUser._id">
          <div class="pro-3">

              <div class="pro-1">
                <div class="docSectionBtns lates-s">
                  <div class="candidate-name">
                    <div class="CandidateDetails">
                      <div class="user-details">

                        <div class="row" style="margin: auto;">
                          <div class="col s3 m3 l3" style="width: auto;">
                            <div *ngIf = "!friendsAre?.requester?.showCreatedLogo" class="big-badge big-badge-wid">
                              <img src="{{ friendsAre?.requester?.profileimage }}" (error)="changeLogo(friendsAre.requester)" class="iconStyle" style="max-width: 100%" />
                            </div>
                            <div *ngIf = "friendsAre?.requester?.showCreatedLogo" class="big-badge big-badge-wid">
                              {{ friendsAre?.requester?.fullName | uppercase | slice: 0 : 1 }}
                            </div>

                            <div class="smallBtns">
                              <button class="LinkedInBtnNew">
                                <a>
                                  <div class="icon-name" (click)="onLinkedIn(friendsAre?.resumeId?.linkedIn)">
                                    <span class="colorWhiteClass">LinkedIn</span>
                                  </div>
                                </a>
                              </button>
                            </div>

                          </div>

                          <div class="col s9 m9 l9 marTop wrdWrap">
                            <span>
                              {{ friendsAre?.requester?.fullName }}
                            </span>
                          </div>
                        </div>
                        <div *ngIf="getIntroduceCount(friendsAre, 'resumeId') !== 0" class="row marginAuto marOther">
                          <div class="styDiv1">
                            <label class="lblSty"># of Introductions : </label>
                              <label style="font-size: 12px; color: white;">
                                {{ getIntroduceCount(friendsAre, 'resumeId') }}
                              </label>
                          </div>
                        </div>

                        <div class="other-details">
                          <p *ngIf = "friendsAre?.resumeId?.introduceYouToo">
                            <label>I can Intro you to Companies/Teams at :</label>
                              <label style="font-size: 14px; color: black;">
                                {{ friendsAre?.resumeId?.introduceYouToo}}
                              </label>
                          </p>
                          <p *ngIf = "friendsAre?.resumeId?.jobTitle"><label>Job Title :</label> {{ friendsAre?.resumeId?.jobTitle }}</p>
                          <p *ngIf = "friendsAre?.resumeId?.location"><label>Location :</label> {{ friendsAre?.resumeId?.location }}</p>
                          <p *ngIf = "friendsAre?.resumeId?.desiredRoles">
                            <label>Desired Roles :</label>
                              {{ friendsAre?.resumeId?.desiredRoles }}
                          </p>
                          <p *ngIf = "friendsAre?.resumeId?.desiredCompanies">
                            <label>Desired Companies :</label>
                              {{ friendsAre?.resumeId?.desiredCompanies }}
                          </p>
                          <p *ngIf = "friendsAre?.resumeId?.introduceCount">
                            <label>Introduced :</label>
                              {{ friendsAre?.resumeId?.introduceCount }}
                          </p>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>

          </div>
        </div>
        
        <div class="pro" [id] = "'mention_' + friendsAre.recipient._id" *ngIf = "friendsAre.requester._id == loggedUser._id">
          <div class="pro-3">

              <div class="pro-1">
                <div class="docSectionBtns lates-s">
                  <div class="candidate-name">
                    <div class="CandidateDetails">
                      <div class="user-details">

                        <div class="row" style="margin: auto;">
                          <div class="col s3 m3 l3" style="width: auto;">
                            <div *ngIf = "!friendsAre.recipient.showCreatedLogo" class="big-badge big-badge-wid">
                              <img src="{{ friendsAre?.recipient?.profileimage }}" (error)="changeLogo(friendsAre.recipient)" class="iconStyle" style="max-width: 100%" />
                            </div>
                            <div *ngIf = "friendsAre.recipient.showCreatedLogo" class="big-badge big-badge-wid">
                              {{ friendsAre?.recipient?.fullName | uppercase | slice: 0 : 1 }}
                            </div>

                            <div class="smallBtns">
                              <button class="LinkedInBtnNew">
                                <a>
                                  <div class="icon-name" (click)="onLinkedIn(friendsAre?.resumeId2?.linkedIn)">
                                    <span class="colorWhiteClass">LinkedIn</span>
                                  </div>
                                </a>
                              </button>
                            </div>
                            
                          </div>

                          <div class="col s9 m9 l9 marTop">
                            <span>
                              {{ friendsAre?.recipient?.fullName }}
                            </span>
                          </div>
                        </div>

                        <div *ngIf="getIntroduceCount(friendsAre, 'resumeId2') !== 0" class="row marginAuto marOther">
                          <div class="styDiv1">
                            <label class="lblSty"># of Introductions : </label>
                              <label style="font-size: 12px; color: white;">
                                {{ getIntroduceCount(friendsAre, 'resumeId2') }}
                              </label>
                          </div>
                        </div>

                        <div class="other-details">
                          <p *ngIf = "friendsAre?.resumeId2?.introduceYouToo">
                            <label>I can Intro you to Companies/Teams at :</label>
                              <label style="font-size: 14px; color: black;">
                                {{ friendsAre?.resumeId2?.introduceYouToo}}
                              </label>
                          </p>
                          <p *ngIf = "friendsAre?.resumeId2?.jobTitle"><label>Job Title :</label> {{ friendsAre?.resumeId2?.jobTitle }}</p>
                          <p *ngIf = "friendsAre?.resumeId2?.location"><label>Location :</label> {{ friendsAre?.resumeId2?.location }}</p>
                          <p *ngIf = "friendsAre?.resumeId2?.desiredRoles">
                            <label>Desired Roles :</label>
                              {{ friendsAre?.resumeId2?.desiredRoles }}
                          </p>
                          <p *ngIf = "friendsAre?.resumeId2?.desiredCompanies">
                            <label>Desired Companies :</label>
                              {{ friendsAre?.resumeId2?.desiredCompanies }}
                          </p>
                          <p *ngIf = "friendsAre?.resumeId2?.introduceCount">
                            <label>Introduced :</label>
                              {{ friendsAre?.resumeId2?.introduceCount }}
                          </p>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>

          </div>
        </div>

        <div class="row">
          <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn" (click)="showShareModal(friendsAre.requester._id, friendsAre.resumeId, friendsAre.resumeId2)">
                <a>
                  <div class="icon-name">
                    <span class="btnText"> Share </span>
                  </div>
                </a>
              </button>
            </div>
          </div>

          <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn shareBtn" (click)="goToUserChat(friendsAre.requester._id, friendsAre.resumeId, friendsAre.resumeId2)">
                <a>
                  <div class="icon-name">
                    <span class="btnText"> Chat </span>
                  </div>
                </a>
              </button>
            </div>
          </div>

          <!-- <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn shareBtn " (click)="swapIntroLocal(friendsAre.requester._id, friendsAre.resumeId, friendsAre.resumeId2)">
                <a>
                  <div class="icon-name">
                    <span class="btnText"> Swap Intros </span>
                  </div>
                </a>
              </button>
            </div>
          </div> -->

          <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn shareBtn " (click)="introduceTo(friendsAre.requester._id, friendsAre.resumeId, friendsAre.resumeId2)">
                <a>
                  <div class="icon-name">
                    <span class="btnText"> Introduce </span>
                  </div>
                </a>
              </button>
            </div>
          </div>

          <!-- <div class="pro-share pro-share-width marTop"> -->
          <div class="pro-share marTop">
            <div class="">
              <button class="acceptBtn cancelBtn" (click)="thxLetter(friendsAre.requester._id, friendsAre.resumeId, friendsAre.resumeId2)">
                <a>
                  <div class="icon-name">
                    <span class="btnText"> Thank you letter </span>
                  </div>
                </a>
              </button>
            </div>
          </div>

        </div>

      </div>
    </div>
  </ng-container>
  
  <ng-container *ngIf = "!showRequestedFriendLoader && !showFriendsConnectionsLoader && requestedFriendAre.length == 0 && friendsConnections.length == 0">
    <div class="marTop">
      <app-no-data-available ></app-no-data-available>
    </div>
  </ng-container>

</ng-container>
