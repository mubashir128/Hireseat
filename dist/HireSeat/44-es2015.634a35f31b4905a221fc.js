(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{L8hv:function(e,o,n){"use strict";n.r(o),n.d(o,"CreateAdminModuleNgFactory",(function(){return p}));var i=n("8Y7J");class s{}var r=n("pMnS"),t=n("SVse"),a=n("s7LF"),l=n("iInd");n("VITL"),n("pW6c");class m{constructor(e,o,n,i){this.spinner=e,this.userService=o,this.router=n,this._authService=i,this.onChange=e=>{},this.onTouched=()=>{},this.suBtnActive=!0,this.signin=new a.FormGroup({fullname:new a.FormControl,phoneNo:new a.FormControl,email:new a.FormControl,password:new a.FormControl,webSiteLink:new a.FormControl,companyName:new a.FormControl,file:new a.FormControl})}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){JSON.parse(window.localStorage.getItem("currentUser"))}formSubmit(){var e=this.signin.value;const o=JSON.parse(window.localStorage.getItem("currentUser")).userInfo.userRole;this.signin=new a.FormGroup({fullname:new a.FormControl(e.fullname,[a.Validators.required]),phoneNo:new a.FormControl(e.phoneNo,a.Validators.required),email:new a.FormControl(e.email,[a.Validators.required,a.Validators.email]),companyName:new a.FormControl(e.companyName,[a.Validators.required]),webSiteLink:new a.FormControl(e.webSiteLink,[a.Validators.required]),password:new a.FormControl(e.password,[a.Validators.required,a.Validators.minLength(5)]),file:new a.FormControl(e.file,[])});const n=new FormData;this.localRole="admin",this.userroledata=1,n.append("userRole",this.localRole),n.append("role",this.userroledata),void 0!==this.imagePath&&n.append("file",this.imagePath[0],this.imagePath[0].name),n.append("fullname",this.signin.controls.fullname.value),n.append("phoneNo",this.signin.controls.phoneNo.value),n.append("email",this.signin.controls.email.value),n.append("companyName",this.signin.controls.companyName.value),n.append("webSiteLink",this.signin.controls.webSiteLink.value),n.append("password",this.signin.controls.password.value),this.signin.valid||(Materialize.toast("Please complete the form.",1e3),this.spinner.hide()),"super-admin"===o?(this.spinner.show(),this.suBtnActive=!0,e=this.signin.value,this.signin.valid?(this.spinner.show(),this.userService.register(n).subscribe(e=>{"success"===e.statustxt&&(this.spinner.hide(),this.suBtnActive=!0,jQuery("#registerMsg").modal("open"),this.router.navigate(["/super-admin/user-list"])),this.spinner.hide()},e=>{console.log(e),"Conflict"==e&&(Materialize.toast("Email Id / Phone Number Already Registered !",1e3),this.spinner.hide()),this.suBtnActive=!0,this.spinner.hide()})):(this.suBtnActive=!0,this.spinner.hide())):(this.spinner.hide(),Materialize.toast("Your not an authorized user...!",1e3),this._authService.logout())}preview(e){if(0!==e.length)if(null!=e[0].type.match(/image\/*/)){this.filepath=e[0];var o=new FileReader;this.imagePath=e,o.readAsDataURL(e[0]),o.onload=e=>{this.imgURL=o.result}}else this.message="Only images are supported."}}class d{}var p=i["\u0275cmf"](s,[],(function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[r.a]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,t.NgLocalization,t.NgLocaleLocalization,[i.LOCALE_ID,[2,t["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,a["\u0275angular_packages_forms_forms_o"],a["\u0275angular_packages_forms_forms_o"],[]),i["\u0275mpd"](4608,a.FormBuilder,a.FormBuilder,[]),i["\u0275mpd"](1073742336,t.CommonModule,t.CommonModule,[]),i["\u0275mpd"](1073742336,l.p,l.p,[[2,l.u],[2,l.l]]),i["\u0275mpd"](1073742336,d,d,[]),i["\u0275mpd"](1073742336,a["\u0275angular_packages_forms_forms_d"],a["\u0275angular_packages_forms_forms_d"],[]),i["\u0275mpd"](1073742336,a.FormsModule,a.FormsModule,[]),i["\u0275mpd"](1073742336,a.ReactiveFormsModule,a.ReactiveFormsModule,[]),i["\u0275mpd"](1073742336,s,s,[]),i["\u0275mpd"](1024,l.j,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);