(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"U4+L":function(t,e,n){"use strict";n.r(e),n.d(e,"BlogModule",function(){return ft});var o=n("ofXK"),c=n("tyNb"),i=n("pW6c"),r=n("VITL"),a=n("wl9n"),d=n("OMJ/"),s=n("fXoL"),g=n("kWWo"),l=n("IBfT"),p=n("fp1T");let h=(()=>{class t{constructor(t,e,n,o,c){this._AuthService=t,this.adminService=e,this.userService=n,this.supperAdmin=o,this.router=c,this.UserList=[]}ngOnInit(){this.UserData=this.userService.getUserData(),this.adminService.getAllUsers().subscribe(t=>{t.length>0&&(this.UserList=t)},t=>{console.log(t)})}logoutSA(){this.supperAdmin.unSecureLogin({email:localStorage.getItem("super-admin-email")}).subscribe(t=>{t&&(localStorage.removeItem("super-admin-email"),this.router.navigate(["super-admin/user-list"]))},t=>{this._AuthService.logout(),console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.bc(i.a),s.bc(d.a),s.bc(r.a),s.bc(a.a),s.bc(c.c))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-blog-main"]],decls:9,vars:0,consts:[[1,"row"],[1,"container","adminBlog",2,"margin-top","20px"],[1,"BlogPostMain"],[1,"col","m4","s12","l3","marT80"],[1,"col","m8","s12","l9"]],template:function(t,e){1&t&&(s.cc(0,"app-navbar"),s.gc(1,"div",0),s.gc(2,"div",1),s.gc(3,"div",2),s.gc(4,"div",3),s.cc(5,"app-sidebar"),s.fc(),s.gc(6,"div",4),s.cc(7,"router-outlet"),s.fc(),s.fc(),s.fc(),s.fc(),s.cc(8,"app-footer"))},directives:[g.a,l.a,c.h,p.a],styles:[".dropbtn[_ngcontent-%COMP%]{border:none;font-size:1rem;color:#03a9f4;font-weight:700;background-color:transparent}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:999}.dropdownNew[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{opacity:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.tableDiv[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.BlogPostMain[_ngcontent-%COMP%]{width:100%;float:left;min-height:calc(100vh - 467px)}.container.adminBlog[_ngcontent-%COMP%]{width:85%}",'nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#03a9f4}#nav-mobile[_ngcontent-%COMP%]{transform:none!important}.mobileMenu-li[_ngcontent-%COMP%]{color:#1c8ad8;font-size:14px}.mobileMenu-li[_ngcontent-%COMP%]:hover{font-weight:700}.LogOutOption[_ngcontent-%COMP%], .mobileMenu-li[_ngcontent-%COMP%]:hover{color:#fff;background-color:#48aef3}.LogOutOption[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:8px;height:45px;padding:0 20px;margin-bottom:12px}.LogOutOption[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;margin:0;font-weight:700}.LogOutOption[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:700;cursor:pointer;border:1px solid #fff;padding:0 10px;box-shadow:0 1px 3px #a0a0a0}.mobileHeadRe[_ngcontent-%COMP%]{display:none}.for-web[_ngcontent-%COMP%]{display:block}.for-mobile[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:320px) and (max-width:667px){.mobileHeadRe[_ngcontent-%COMP%]{display:flex}.desktopRe[_ngcontent-%COMP%], .for-web[_ngcontent-%COMP%]{display:none}.for-mobile[_ngcontent-%COMP%]{display:block}}.notificationList[_ngcontent-%COMP%]{position:absolute;width:400px;right:0;padding:0;top:70px;z-index:99;border:1px solid #1c6fa9;background-color:#48aef3;border-radius:5px}.notificationList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;color:#000;width:100%;margin:0;line-height:2;font-size:16px;font-weight:700}h4.count[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;background-color:#48aef3;display:flex;align-items:center;justify-content:center;font-size:15px;color:#fff;border-radius:50%;font-weight:700;right:5px;top:-10px}.hide-on-med-and-down[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .notificationListInner[_ngcontent-%COMP%]{position:relative}.notificationListInner[_ngcontent-%COMP%]:after, .notificationListInner[_ngcontent-%COMP%]:before{bottom:100%;left:87%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.notificationListInner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:5px 10px;border-bottom:1px solid #fff;font-size:18px;font-weight:400}.notificationListInner[_ngcontent-%COMP%]:after{border-color:rgba(136,183,213,0) rgba(136,183,213,0) #1c6fa9;border-width:17px;top:-35px}.notificationListInner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;min-height:130px}.notificationListInner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.notificationListInner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.notificationListInner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .notificationListInner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#fff}.hederNotification[_ngcontent-%COMP%]{border-bottom:1px solid #fff;padding:10px 20px;background-color:rgba(26,108,165,.9490196078431372);border-radius:5px 5px 0 0}.hederNotification[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;padding:10px 0;font-size:25px;font-weight:700}']}),t})();var u=n("3Pt+"),f=n("2AXT"),m=n("+z1p"),b=n.n(m),C=n("zioG"),O=n("cGVB"),x=n("Kb4U");let M=(()=>{class t{constructor(t,e){this.formBuilder=t,this.blogService=e,this.tagList=[],this.tagListArray=new s.r}ngOnInit(){this.createTagForms(),this.tagList=this.tagArrayData,this.tagForm.get("tag").valueChanges.subscribe(t=>console.log("tag component",t))}createTagForms(){this.tagForm=this.formBuilder.group({tag:["",u.y]})}addTag(t){console.log("adding tag",t),t.display=O.c(t.value),t.display=O.b(t.value),this.blogService.addNewTag(t).subscribe(t=>{"success"==t.result&&Materialize.toast("New tag added successfully !",1e3)},t=>{console.log(t)}),console.log("ready output",this.tagList),this.tagListArray.emit(this.tagList)}removeTag(t){console.log("removing tag",t),this.blogService.removeNewTag(t).subscribe(t=>{"success"==t.result&&Materialize.toast("New tag removed successfully !",1e3)},t=>{console.log(t)}),this.tagListArray.emit(this.tagList)}tagsAutoData(t,e){throw new Error("Method not implemented.")}}return t.\u0275fac=function(e){return new(e||t)(s.bc(u.f),s.bc(f.a))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-edit-tag"]],inputs:{tagArrayData:"tagArrayData"},outputs:{tagListArray:"tagListArray"},decls:7,vars:3,consts:[[1,"customeKeyword","marT"],[1,"secHead"],[1,"customeText"],[1,"tagDIv"],[3,"formGroup"],["formControlName","tag",3,"ngModel","editable","ngModelChange","onAdd","onRemove"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"h4",1),s.dd(2,"Tags"),s.fc(),s.gc(3,"div",2),s.gc(4,"div",3),s.gc(5,"form",4),s.gc(6,"tag-input",5),s.qc("ngModelChange",function(t){return e.tagList=t})("onAdd",function(t){return e.addTag(t)})("onRemove",function(t){return e.removeTag(t)}),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(5),s.Bc("formGroup",e.tagForm),s.Ob(1),s.Bc("ngModel",e.tagList)("editable",!0))},directives:[u.z,u.q,u.j,x.a,u.p,u.h],styles:['.formDivCreate[_ngcontent-%COMP%]   .createpostInput[_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:unset}.formDivCreate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}.formDivCreate[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.createpostMainDiv[_ngcontent-%COMP%]{min-height:calc(100vh - 123px);background-color:#f1f1f1;padding:30px}.heading[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.urlDiv[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 0 20px}.urlDiv[_ngcontent-%COMP%]   .titleEnter[_ngcontent-%COMP%]{width:auto;margin:0}.urlDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.titleEnter[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:0 15px!important;box-sizing:border-box!important;background-color:#fff!important}button.okBtn[_ngcontent-%COMP%]{height:45px;min-width:50px;border:1px solid #f1f1f1!important;font-weight:700;margin:0 10px}.urlDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3af;text-decoration:underline!important;-webkit-tap-highlight-color:transparent;cursor:pointer}.AddMediaBtn[_ngcontent-%COMP%]{margin:22px 0}.AddBtn[_ngcontent-%COMP%], .AddMediaBtn[_ngcontent-%COMP%]{color:#000;background-color:#fff;height:30px;padding:0 20px;font-size:14px;line-height:normal}.AddBtn[_ngcontent-%COMP%]{margin:10px 0}.editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:auto}.customeKeyword[_ngcontent-%COMP%], .editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.secHead[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0;border-bottom:1px solid #ddd;font-weight:600}.customeText[_ngcontent-%COMP%], .secHead[_ngcontent-%COMP%]{padding:10px 20px}.customeText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0}.marT[_ngcontent-%COMP%]{margin:10px 0 0}.publishBtn[_ngcontent-%COMP%]{border:1px solid #ddd;width:100%;margin-bottom:20px;height:45px;box-shadow:none;background-color:#3af;color:#fff;text-align:left;padding:0 20px;font-weight:600}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:painted}.radioBtnL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:1;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:3px;left:0;height:15px;width:15px;background-color:transparent;border-radius:50%;border:1px solid #ddd}.radioBtnL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:transparent}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.radioBtnL[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:2px;left:2px;width:9px;height:9px;border-radius:50%;background:#3af}.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.addcatagory[_ngcontent-%COMP%]{padding:0 20px}.catagoryText[_ngcontent-%COMP%]{display:block;height:30px!important;border:1px solid #ddd!important;font-size:15px;color:#000}.addcatagory[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;font-weight:500;margin:10px 0;display:block}.customeText.scrollDiv[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}']}),t})();function P(t,e){if(1&t&&(s.gc(0,"label",25),s.cc(1,"input",26),s.dd(2),s.cc(3,"span",27),s.fc()),2&t){const t=e.index,n=s.uc();s.Ob(1),s.Bc("formControlName",t),s.Ob(1),s.fd(" ",null==n.categoriesData[t]?null:n.categoriesData[t].categoryName," ")}}function _(t,e){if(1&t){const t=s.hc();s.gc(0,"a",28),s.qc("click",function(){return s.Sc(t),s.uc().showAddCatgory()}),s.dd(1,"+ Add New Category"),s.fc()}}function v(t,e){if(1&t){const t=s.hc();s.gc(0,"div",29),s.gc(1,"form",1),s.cc(2,"input",30),s.gc(3,"div",31),s.gc(4,"button",32),s.qc("click",function(){return s.Sc(t),s.uc().addNewCategory()}),s.dd(5," Add New Catagory "),s.fc(),s.gc(6,"button",33),s.qc("click",function(){return s.Sc(t),s.uc().Cancel()}),s.dd(7," Cancel "),s.fc(),s.fc(),s.fc(),s.fc()}if(2&t){const t=s.uc();s.Ob(1),s.Bc("formGroup",t.addNewCateg)}}function k(t,e){1&t&&(s.gc(0,"div"),s.cc(1,"input",34),s.fc())}function y(t,e){if(1&t&&(s.gc(0,"div"),s.gc(1,"div",38),s.dd(2),s.fc(),s.dd(3),s.fc()),2&t){const t=s.uc(2);s.Ob(1),s.Yc("width",t.uploadResponse.message,"%"),s.Ob(1),s.fd(" ",t.uploadResponse.message,"% "),s.Ob(1),s.fd(" ",t.uploadResponse.message,"% ")}}function w(t,e){1&t&&(s.gc(0,"h6"),s.dd(1," video uploaded sucessfully......! "),s.fc())}function B(t,e){if(1&t){const t=s.hc();s.gc(0,"div"),s.gc(1,"div",35),s.gc(2,"input",36),s.qc("change",function(e){return s.Sc(t),s.uc().previewvideo(e)}),s.fc(),s.gc(3,"button",37),s.dd(4," Upload "),s.fc(),s.fc(),s.bd(5,y,4,4,"div",23),s.bd(6,w,2,0,"h6",23),s.fc()}if(2&t){const t=s.uc();s.Ob(5),s.Bc("ngIf","progress"==t.uploadResponse.status),s.Ob(1),s.Bc("ngIf","sucess"==t.uploadResponse.message)}}let D=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.blogServices=e,this.router=n,this.showAddCatg=!1,this.categoriesData=[],this.blogUrl="",this.showEditUrl=!1,this.tagsAutoData=[],this.PostDescription=[],this.showvideo=!1,this.showcatbutton=!0,this.showtag=!1,this.uploadResponse={status:"",message:""},this.videouploading=!1,this.editor=b.a,this.permaLink=window.location.href}addCheckboxes(){this.categoriesData.map((t,e)=>{const n=new u.g(0===e);this.addpost.controls.categoriesData.push(n)})}ngOnInit(){this.video=this.formBuilder.group({videofile:this.formBuilder.control("")}),this.blogServices.refreshNeeded$.subscribe(()=>{this.getAllCategories()}),this.getAllCategories(),this.currentUserId=JSON.parse(localStorage.getItem("currentUser")).userInfo._id,this.youtubepattern="^http://(?:www.)?youtube.com/watch?(?=.*v=w+)(?:S+)?$",this.addpost=this.formBuilder.group({title:["",[u.y.required]],postDescription:this.formBuilder.control("",[u.y.required]),categoriesData:new u.d([],L(1)),tags:this.formBuilder.control("",[u.y.required]),Video:this.formBuilder.control("",[u.y.pattern(this.youtubepattern)]),videofile:this.formBuilder.control("")}),this.addNewCateg=this.formBuilder.group({categoryName:["",[u.y.required]]})}get f(){return this.addpost.controls}unmask(t){return t.replace(/\s+/g,"-")}onchange(t){this.blogUrl=t.replace(/\s+/g,"-")}showeditUrl(){this.showEditUrl=!1===this.showEditUrl}getAllCategories(){this.blogServices.getBlogCategories().subscribe(t=>{this.categoriesData=t.data,this.addCheckboxes()},t=>console.log(t))}previewvideo(t){if(!t.target.files[0])return;this.videouploading=!0;const e=new FormData;e.append("file",t.target.files[0]),this.blogServices.uploadFile(e).subscribe(t=>{this.uploadResponse=t,"sucess"==t.message&&(this.videoURL=t.url,this.videouploading=!1)})}onSubmit(){}showAddCatgory(){this.showAddCatg=!0,this.showvideo=!1,this.showcatbutton=!1}Cancel(){this.showcatbutton=!0,this.showAddCatg=!1}getvideo(t){this.diplayvideo=t}addNewCategory(){this.showcatbutton=!1;let t=this.addNewCateg.controls.categoryName.value.replace(/\s+/g,"-");this.addNewCateg.value.catslug=t,this.blogServices.addNewCateg(this.addNewCateg.value).subscribe(t=>{Materialize.toast(t.message,1e3)},t=>{console.log(t)})}onChange(t){this.showcatbutton=!0}eventHandler(t){this.tagsArray=t}getData(){const t=this.addpost.value.categoriesData.map((t,e)=>t?this.categoriesData[e]:null).filter(t=>null!==t);new FormData,this.data={title:this.addpost.controls.title.value,blogUrl:$(".blogurlClass").html(),blogDesciption:this.addpost.controls.postDescription.value,categories:t,tags:JSON.stringify(this.tagsArray),video:this.addpost.controls.Video.value,localvideolink:this.videoURL,author:this.currentUserId},this.blogServices.addBlogPost(this.data).subscribe(t=>{t&&(Materialize.toast(t.message,1e3),this.router.navigate(["/blog-posts/all-post"]))},t=>console.log(t))}showTagForm(){this.showtag=!this.showtag}}return t.\u0275fac=function(e){return new(e||t)(s.bc(u.f),s.bc(f.a),s.bc(c.c))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-create-post"]],decls:50,vars:10,consts:[[1,"createpostMainDiv"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"heading"],[1,"clearfix"],[1,"col","m12","s12","l8"],[1,"inputDiv"],["type","text","placeholder","Enter title here","formControlName","title",1,"titleEnter",3,"input"],[1,"urlDiv"],[1,"blogurlClass"],[1,"editerDIv"],["formControlName","postDescription","name","myckeditor","debounce","500","required","",3,"editor"],[1,"customeKeyword","marT"],[1,"secHead"],[1,"customeText"],[1,"col","s12","m12","l4"],[1,"btn","publishBtn",3,"disabled","click"],[1,"customeText","scrollDiv"],["class","checkboxL","formArrayName","categoriesData",4,"ngFor","ngForOf"],["class","addCatagoryA",3,"click",4,"ngIf"],["class","addcatagory",4,"ngIf"],["type","radio","name","radio",3,"change"],[4,"ngIf"],[3,"tagListArray"],["formArrayName","categoriesData",1,"checkboxL"],["type","checkbox",3,"formControlName"],[1,"checkmarkC"],[1,"addCatagoryA",3,"click"],[1,"addcatagory"],["type","text","formControlName","categoryName",1,"catagoryText"],[1,"btnDiv","DiF"],[1,"waves-effect","waves-light","btn","addCateButton","marR5",3,"click"],[1,"waves-effect","waves-light","btn","cancelBtn","addCateButton",3,"click"],["type","text","placeholder","enter youtubelink here","formControlName","Video"],[1,"uploadBtnDiv"],["type","file","accept","video/*","formControlName","videofile",3,"change"],[1,"waves-effect","waves-light","btn","uploadBtn"],["role","progressbar",1,"progress-bar"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"form",1),s.gc(2,"div",2),s.gc(3,"div",3),s.gc(4,"h4",4),s.dd(5,"Add New video Post"),s.fc(),s.fc(),s.cc(6,"div",5),s.gc(7,"div",6),s.gc(8,"div",7),s.gc(9,"input",8),s.qc("input",function(){return e.onchange(e.addpost.controls.title.value)}),s.fc(),s.fc(),s.gc(10,"div",9),s.gc(11,"p"),s.gc(12,"b"),s.dd(13,"Permalink:"),s.fc(),s.dd(14),s.gc(15,"span",10),s.dd(16),s.fc(),s.fc(),s.fc(),s.gc(17,"div",11),s.cc(18,"ckeditor",12),s.fc(),s.gc(19,"div",13),s.gc(20,"h4",14),s.dd(21,"custome Keyword"),s.fc(),s.gc(22,"div",15),s.gc(23,"p"),s.dd(24,"First create post for adding keywords."),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(25,"div",16),s.gc(26,"button",17),s.qc("click",function(){return e.getData()}),s.dd(27," Publish "),s.fc(),s.gc(28,"div",13),s.gc(29,"h4",14),s.dd(30,"Add catagory"),s.fc(),s.gc(31,"div",18),s.bd(32,P,4,2,"label",19),s.fc(),s.bd(33,_,2,0,"a",20),s.bd(34,v,8,1,"div",21),s.fc(),s.gc(35,"div",13),s.gc(36,"h4",14),s.dd(37,"Video"),s.fc(),s.gc(38,"div",15),s.gc(39,"input",22),s.qc("change",function(){return e.getvideo("embedded")}),s.fc(),s.gc(40,"span"),s.dd(41,"Video Link"),s.fc(),s.dd(42,"\xa0\xa0 "),s.gc(43,"input",22),s.qc("change",function(){return e.getvideo("local")}),s.fc(),s.gc(44,"span"),s.dd(45,"Video File"),s.fc(),s.dd(46," \xa0\xa0 "),s.bd(47,k,2,0,"div",23),s.bd(48,B,7,2,"div",23),s.fc(),s.fc(),s.gc(49,"app-edit-tag",24),s.qc("tagListArray",function(t){return e.eventHandler(t)}),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(1),s.Bc("formGroup",e.addpost),s.Ob(13),s.fd(" ",e.permaLink,""),s.Ob(2),s.ed(e.blogUrl),s.Ob(2),s.Bc("editor",e.editor),s.Ob(8),s.Bc("disabled",e.videouploading),s.Ob(6),s.Bc("ngForOf",e.addpost.controls.categoriesData),s.Ob(1),s.Bc("ngIf",e.showcatbutton),s.Ob(1),s.Bc("ngIf",e.showAddCatg),s.Ob(13),s.Bc("ngIf","embedded"==e.diplayvideo),s.Ob(1),s.Bc("ngIf","local"==e.diplayvideo))},directives:[u.z,u.q,u.j,u.c,u.p,u.h,C.a,u.x,o.n,o.o,M,u.e,u.b],styles:['.formDivCreate[_ngcontent-%COMP%]   .createpostInput[_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:unset}.formDivCreate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}.formDivCreate[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.createpostMainDiv[_ngcontent-%COMP%]{background-color:#fff;padding:1px 30px;margin-top:7px;box-shadow:0 0 10px hsla(0,0%,60%,.1411764705882353)!important}.heading[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;padding:0 10px}.progress-bar[_ngcontent-%COMP%]{background-color:#0964d9;height:10px;width:100%;border-radius:10px;text-align:right;font-size:0!important;margin-top:14px}.progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:100%;border-radius:3px;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.5);transition:width .4s ease-in-out;background-color:#a5a5a5}.urlDiv[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 0 20px}.urlDiv[_ngcontent-%COMP%]   .titleEnter[_ngcontent-%COMP%]{width:auto;margin:0}.urlDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.titleEnter[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:0 15px!important;box-sizing:border-box!important;background-color:#fff!important}button.okBtn[_ngcontent-%COMP%]{height:45px;min-width:50px;border:1px solid #f1f1f1!important;font-weight:700;margin:0 10px}.urlDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3af;text-decoration:underline!important;-webkit-tap-highlight-color:transparent;cursor:pointer}.AddMediaBtn[_ngcontent-%COMP%]{margin:22px 0}.AddBtn[_ngcontent-%COMP%], .AddMediaBtn[_ngcontent-%COMP%]{color:#000;background-color:#fff;height:30px;padding:0 20px;font-size:14px;line-height:normal}.AddBtn[_ngcontent-%COMP%]{margin:10px 0}.editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:auto}.customeKeyword[_ngcontent-%COMP%], .editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.secHead[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0;border-bottom:1px solid #ddd;font-weight:600}.customeText[_ngcontent-%COMP%], .secHead[_ngcontent-%COMP%]{padding:10px 20px}.customeText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0}.marT[_ngcontent-%COMP%]{margin:10px 0 0}.publishBtn[_ngcontent-%COMP%]{border:1px solid #ddd;width:100%;margin-bottom:20px;height:45px;box-shadow:none;background-color:#3ab10a;color:#fff;text-align:center;padding:0 20px;font-weight:600}.publishBtn[_ngcontent-%COMP%]:focus, .publishBtn[_ngcontent-%COMP%]:hover{background-color:#329909!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:painted;margin-right:10px}.radioBtnL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:1;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:3px;left:0;height:15px;width:15px;background-color:transparent;border-radius:50%;border:1px solid #ddd}.radioBtnL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:transparent}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.radioBtnL[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:2px;left:2px;width:9px;height:9px;border-radius:50%;background:#3af}.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.addcatagory[_ngcontent-%COMP%]{padding:0 20px}.catagoryText[_ngcontent-%COMP%]{display:block;height:30px!important;border:1px solid #ddd!important;font-size:15px;color:#000}.addcatagory[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;font-weight:500;margin:10px 0;display:block}.customeText.scrollDiv[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto}.addCatagoryA[_ngcontent-%COMP%]{padding:0 20px 10px;display:block;cursor:pointer}.btnDiv.DiF[_ngcontent-%COMP%]{margin:10px 0 20px;display:flex;align-items:center;justify-content:space-between}.cancelBtn[_ngcontent-%COMP%]{background-color:#969696}.uploadBtnDiv[_ngcontent-%COMP%]{position:relative;margin-top:10px}.uploadBtnDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;height:100%;z-index:9;width:100%}.uploadBtnDiv[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{width:100%;position:relative;z-index:0}img.UploadedImg[_ngcontent-%COMP%]{width:100%;height:170px;-o-object-fit:cover;object-fit:cover;margin:10px 0}.tableDiv[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.addCateButton[_ngcontent-%COMP%]{font-size:13px;line-height:1;padding:0 10px}.addCateButton.marR5[_ngcontent-%COMP%]{margin-right:5px}@media only screen and (min-width:320px) and (max-width:1024px){.FRM[_ngcontent-%COMP%]{float:Right}.FLM[_ngcontent-%COMP%]{float:left}}']}),t})();function L(t=1){return e=>e.controls.map(t=>t.value).reduce((t,e)=>e?t+e:t,0)>=t?null:{required:!0}}var A=n("jhN1");function N(t,e){if(1&t){const t=s.hc();s.gc(0,"div",15),s.cc(1,"img",22),s.gc(2,"button",23),s.qc("click",function(){return s.Sc(t),s.uc(2).changeFile()}),s.dd(3," Change "),s.fc(),s.fc()}if(2&t){const t=s.uc(2);s.Ob(1),s.Bc("src",t.imgURL,s.Vc)}}function F(t,e){if(1&t&&s.cc(0,"img",22),2&t){const t=s.uc(3);s.Bc("src",t.imgURL,s.Vc)}}function I(t,e){if(1&t){const t=s.hc();s.gc(0,"div",15),s.gc(1,"a"),s.dd(2,"set feature image"),s.fc(),s.bd(3,F,1,1,"img",24),s.gc(4,"div",25),s.gc(5,"div",26),s.gc(6,"input",27,28),s.qc("change",function(){s.Sc(t);const e=s.Pc(7);return s.uc(2).preview(e.files)}),s.fc(),s.gc(8,"button",29),s.dd(9," Upload "),s.fc(),s.fc(),s.gc(10,"button",30),s.qc("click",function(){return s.Sc(t),s.uc(2).cancelFile()}),s.dd(11," Cancel "),s.fc(),s.fc(),s.fc()}if(2&t){const t=s.uc(2);s.Ob(3),s.Bc("ngIf",t.imgURL)}}function z(t,e){if(1&t&&(s.gc(0,"div",13),s.gc(1,"h4",14),s.dd(2,"Feature image"),s.fc(),s.bd(3,N,4,1,"div",21),s.bd(4,I,12,1,"div",21),s.fc()),2&t){const t=s.uc();s.Ob(3),s.Bc("ngIf",t.changefile),s.Ob(1),s.Bc("ngIf",t.showFileForm)}}function S(t,e){if(1&t&&(s.gc(0,"div"),s.gc(1,"video",32),s.dd(2," Your browser does not support the video tag. "),s.fc(),s.fc()),2&t){const t=s.uc(3);s.Ob(1),s.Bc("src",t.video,s.Vc)}}function q(t,e){if(1&t&&(s.gc(0,"div"),s.cc(1,"iframe",33),s.fc()),2&t){const t=s.uc(3);s.Ob(1),s.Bc("src",t.safeurl,s.Uc)}}function U(t,e){if(1&t){const t=s.hc();s.gc(0,"div"),s.bd(1,S,3,1,"div",31),s.bd(2,q,2,1,"div",31),s.gc(3,"button",23),s.qc("click",function(){return s.Sc(t),s.uc(2).changeVideo()}),s.dd(4," Change "),s.fc(),s.fc()}if(2&t){const t=s.uc(2);s.Ob(1),s.Bc("ngIf",!t.isembbedded),s.Ob(1),s.Bc("ngIf",t.isembbedded)}}function T(t,e){if(1&t){const t=s.hc();s.gc(0,"div"),s.gc(1,"input",35),s.qc("ngModelChange",function(e){return s.Sc(t),s.uc(3).Video=e}),s.fc(),s.fc()}if(2&t){const t=s.uc(3);s.Ob(1),s.Bc("ngModel",t.Video)}}function R(t,e){if(1&t&&(s.gc(0,"div"),s.gc(1,"div",38),s.dd(2),s.fc(),s.dd(3),s.fc()),2&t){const t=s.uc(4);s.Ob(1),s.Yc("width",t.uploadResponse.message,"%"),s.Ob(1),s.fd(" ",t.uploadResponse.message,"% "),s.Ob(1),s.fd(" ",t.uploadResponse.message,"% ")}}function V(t,e){1&t&&(s.gc(0,"h6"),s.dd(1," video uploaded sucessfully......! "),s.fc())}function E(t,e){if(1&t){const t=s.hc();s.gc(0,"div"),s.gc(1,"div",26),s.gc(2,"input",36,37),s.qc("change",function(e){return s.Sc(t),s.uc(3).previewvideo(e)}),s.fc(),s.gc(4,"button",29),s.dd(5," Upload "),s.fc(),s.fc(),s.bd(6,R,4,4,"div",31),s.bd(7,V,2,0,"h6",31),s.fc()}if(2&t){const t=s.uc(3);s.Ob(6),s.Bc("ngIf","progress"==t.uploadResponse.status),s.Ob(1),s.Bc("ngIf","sucess"==t.uploadResponse.message)}}function H(t,e){if(1&t){const t=s.hc();s.gc(0,"div",15),s.gc(1,"input",34),s.qc("change",function(){return s.Sc(t),s.uc(2).getvideo("embedded")}),s.fc(),s.dd(2,"Video Link \xa0\xa0 "),s.gc(3,"input",34),s.qc("change",function(){return s.Sc(t),s.uc(2).getvideo("local")}),s.fc(),s.dd(4,"Video File \xa0\xa0 "),s.bd(5,T,2,1,"div",31),s.bd(6,E,8,2,"div",31),s.gc(7,"button",30),s.qc("click",function(){return s.Sc(t),s.uc(2).cancleVideo()}),s.dd(8," Cancel "),s.fc(),s.fc()}if(2&t){const t=s.uc(2);s.Ob(5),s.Bc("ngIf","embedded"==t.diplayvideo),s.Ob(1),s.Bc("ngIf","local"==t.diplayvideo)}}function j(t,e){if(1&t&&(s.gc(0,"div",13),s.gc(1,"h4",14),s.dd(2,"Video"),s.fc(),s.bd(3,U,5,2,"div",31),s.bd(4,H,9,2,"div",21),s.fc()),2&t){const t=s.uc();s.Ob(3),s.Bc("ngIf",t.showVideo),s.Ob(1),s.Bc("ngIf",t.ischangeVideo)}}let G=(()=>{class t{constructor(t,e,n,o,c){this.router=t,this.formBuilder=e,this._blogservice=n,this.route=o,this._sanitizer=c,this.showFileForm=!1,this.changefile=!0,this.isvideo=!1,this.isimage=!0,this.ischangeVideo=!1,this.showVideo=!0,this.isembbedded=!1,this.blogUrl="",this.uploadResponse={status:"",message:""},this.videouploading=!1,this.editor=b.a,this.permaLink=window.location.href}ngOnInit(){this.creatEditBlogForm(),this.id=this.route.snapshot.paramMap.get("blogID"),this._blogservice.getPostById(this.id).subscribe(t=>{this.postData=t.data,console.log(this.postData),this.imgURL=this.postData.featuredImage,this.blogUrl=this.postData.blogurl,this.video=this.postData.video,this.categories=this.postData.categories,this.eventHandler(this.postData.tags),this._blogservice.refreshNeeded$.subscribe(()=>{}),this.currentUserId=JSON.parse(localStorage.getItem("currentUser")).userInfo._id,this.postData.video||this.postData.embbedded?(this.isvideo=!0,this.isimage=!1,this.postData.embbedded&&"null"!=this.postData.embbedded?(this.isembbedded=!0,this.safeURL(this.postData.embbedded),this.editBlogForm.get("Video").setValue(this.postData.embbedded)):this.videoUrl=this.video):(this.isvideo=!1,this.isimage=!0),this.editBlogForm.patchValue(this.postData)})}eventHandler(t){console.log("tags",t),this.tagsArray=t,console.log(this.tagsArray)}categoryevent(t){console.log("edit-blog-component Catagory",t),this.selectedOrderIds=t}getvideo(t){this.diplayvideo=t}changeVideo(){this.ischangeVideo=!0,this.showVideo=!1}onchange(t){this.blogUrl=t.replace(/\s+/g,"-")}showAddCatgory(){this.showAddCatg=!0,this.showcatbutton=!1}Cancel(){this.showcatbutton=!0,this.showAddCatg=!1}creatEditBlogForm(){this.editBlogForm=this.formBuilder.group({title:["",u.y.required],description:["",u.y.required],categoriesData:new u.d([],K(1)),file:[""],embbedded:[""],Video:[""],videoFile:[""]}),this.addNewCateg=this.formBuilder.group({categoryName:["",[u.y.required]]})}get f(){return this.editBlogForm.controls}unmask(t){return t.replace(/\s+/g,"-")}previewvideo(t){let e=t.target.files;if(0==e.length)return;this.videouploading=!0,this.videoPath=e[0];const n=new FormData;n.append("file",this.videoPath),this._blogservice.uploadFile(n).subscribe(t=>{this.uploadResponse=t,"sucess"==t.message&&(this.videoUrl=t.url,this.editBlogForm.get("Video").setValue(void 0),this.videouploading=!1)})}safeURL(t){null!=t&&(t=t.replace("watch?v=","embed/"),this.safeurl=this._sanitizer.bypassSecurityTrustResourceUrl(t))}cancelFile(){this.changefile=!0,this.showFileForm=!1,this.imgURL=this.postData.featuredImage}cancleVideo(){this.ischangeVideo=!1,this.showVideo=!0,this.isembbedded?(this.embedded=this.postData.embbedded,this.editBlogForm.get("Video").setValue(this.embedded),this.safeURL(this.embedded)):this.isembbedded||(this.video=this.postData.video,this.videoUrl=this.video)}changeFile(){this.changefile=!1,this.showFileForm=!this.showFileForm}preview(t){if(0===t.length)return;if(null==t[0].type.match(/image\/*/))return void(this.message="Only images are supported.");this.filepath=t[0];var e=new FileReader;this.imagePath=t,e.readAsDataURL(t[0]),e.onload=t=>{this.imgURL=e.result};const n=new FormData;n.append("file",this.filepath),this._blogservice.uploadFile(n).subscribe(t=>{"sucess"==t.message&&(this.imageURL=t.url)})}getData(){console.log("get data called from edit-blog-component"),this.editBlogForm.controls.Video.value&&(this.videoUrl=void 0),this.data={id:this.id,title:this.editBlogForm.controls.title.value,blogUrl:$(".blogurlClass").html(),blogDesciption:this.editBlogForm.controls.description.value,categories:this.selectedOrderIds,tags:JSON.stringify(this.tagsArray),image:this.imageURL,embedded:this.editBlogForm.controls.Video.value,localvideolink:this.videoUrl,author:this.currentUserId},this._blogservice.editBlogPost(this.data).subscribe(t=>{t&&(Materialize.toast(t.message,1e3),this.router.navigate(["/blog-posts/all-post"]))},t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(s.bc(c.c),s.bc(u.f),s.bc(f.a),s.bc(c.a),s.bc(A.b))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-edit-blog"]],decls:32,vars:9,consts:[[1,"createpostMainDiv"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"heading"],[1,"clearfix"],[1,"col","m8","s8"],[1,"inputDiv"],["type","text","placeholder","Enter title here","formControlName","title",1,"titleEnter",3,"input"],[1,"urlDiv"],[1,"blogurlClass"],[1,"editerDIv"],["formControlName","description","name","myckeditor","debounce","500","required","",3,"editor"],[1,"customeKeyword","marT"],[1,"secHead"],[1,"customeText"],[1,"col","m4","col-s4"],[1,"btn","publishBtn",3,"disabled","click"],[3,"categorise","categoriseArray"],["class","customeKeyword marT",4,"ngIf"],[3,"tagArrayData","tagListArray"],["class","customeText",4,"ngIf"],[1,"UploadedImg",3,"src"],[1,"waves-effect","waves-light","btn","uploadBtn",3,"click"],["class","UploadedImg",3,"src",4,"ngIf"],[1,"imageUploadBtnDiv"],[1,"uploadBtnDiv"],["type","file","accept","image/*","formControlName","file","required","",3,"change"],["file",""],[1,"waves-effect","waves-light","btn","uploadBtn"],[1,"waves-effect","waves-light","btn","cancelBtn",3,"click"],[4,"ngIf"],["controls","","controls","",2,"width","100%","height","auto",3,"src"],[2,"width","-webkit-fill-available","height","inherit",3,"src"],["type","radio","name","radio",3,"change"],["type","text","placeholder","enter youtubelink here","formControlName","Video",3,"ngModel","ngModelChange"],["type","file","accept","video/*","formControlName","videoFile",3,"change"],["video",""],["role","progressbar",1,"progress-bar"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"form",1),s.gc(2,"div",2),s.gc(3,"div",3),s.gc(4,"h4",4),s.dd(5,"Edit Post"),s.fc(),s.fc(),s.cc(6,"div",5),s.gc(7,"div",6),s.gc(8,"div",7),s.gc(9,"input",8),s.qc("input",function(){return e.onchange(e.editBlogForm.controls.title.value)}),s.fc(),s.fc(),s.gc(10,"div",9),s.gc(11,"p"),s.gc(12,"b"),s.dd(13,"Permalink:"),s.fc(),s.dd(14),s.gc(15,"span",10),s.dd(16),s.fc(),s.fc(),s.fc(),s.gc(17,"div",11),s.cc(18,"ckeditor",12),s.fc(),s.gc(19,"div",13),s.gc(20,"h4",14),s.dd(21,"custome Keyword"),s.fc(),s.gc(22,"div",15),s.gc(23,"p"),s.dd(24,"First create post for adding keywords."),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(25,"div",16),s.gc(26,"button",17),s.qc("click",function(){return e.getData()}),s.dd(27," Publish "),s.fc(),s.gc(28,"app-edit-category",18),s.qc("categoriseArray",function(t){return e.categoryevent(t)}),s.fc(),s.bd(29,z,5,2,"div",19),s.bd(30,j,5,2,"div",19),s.gc(31,"app-edit-tag",20),s.qc("tagListArray",function(t){return e.eventHandler(t)}),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(1),s.Bc("formGroup",e.editBlogForm),s.Ob(13),s.ed(e.permaLink),s.Ob(2),s.ed(e.blogUrl),s.Ob(2),s.Bc("editor",e.editor),s.Ob(8),s.Bc("disabled",e.videouploading),s.Ob(2),s.Bc("categorise",null==e.postData?null:e.postData.categories),s.Ob(1),s.Bc("ngIf",e.isimage),s.Ob(1),s.Bc("ngIf",e.isvideo),s.Ob(1),s.Bc("tagArrayData",e.postData.tags))},styles:['.formDivCreate[_ngcontent-%COMP%]   .createpostInput[_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:unset}.formDivCreate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}.formDivCreate[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.createpostMainDiv[_ngcontent-%COMP%]{background-color:#fff;padding:1px 30px;margin-top:7px}.heading[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;padding:0 10px}.progress-bar[_ngcontent-%COMP%]{background-color:#0964d9;height:10px;width:100%;border-radius:10px;text-align:right;font-size:0!important;margin-top:14px}.progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:100%;border-radius:3px;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.5);transition:width .4s ease-in-out;background-color:#a5a5a5}.urlDiv[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 0 20px}.urlDiv[_ngcontent-%COMP%]   .titleEnter[_ngcontent-%COMP%]{width:auto;margin:0}.urlDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.titleEnter[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:0 15px!important;box-sizing:border-box!important;background-color:#fff!important}button.okBtn[_ngcontent-%COMP%]{height:45px;min-width:50px;border:1px solid #f1f1f1!important;font-weight:700;margin:0 10px}.urlDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3af;text-decoration:underline!important;-webkit-tap-highlight-color:transparent;cursor:pointer}.AddMediaBtn[_ngcontent-%COMP%]{margin:22px 0;color:#000;background-color:#fff;height:30px;padding:0 20px;font-size:14px;line-height:normal}.editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:auto}.customeKeyword[_ngcontent-%COMP%], .editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.secHead[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0;border-bottom:1px solid #ddd;font-weight:600}.customeText[_ngcontent-%COMP%], .secHead[_ngcontent-%COMP%]{padding:10px 20px}.customeText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:painted}.marT[_ngcontent-%COMP%]{margin:10px 0 0}.publishBtn[_ngcontent-%COMP%]{border:1px solid #ddd;width:100%;margin-bottom:20px;height:45px;box-shadow:none;background-color:#3ab10a;color:#fff;text-align:center;padding:0 20px;font-weight:600}.publishBtn[_ngcontent-%COMP%]:focus, .publishBtn[_ngcontent-%COMP%]:hover{background-color:#329909!important}.imageUploadBtnDiv[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly}.radioBtnL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:3px;left:0;height:15px;width:15px;background-color:transparent;border-radius:50%;border:1px solid #ddd}.radioBtnL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:transparent}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.radioBtnL[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:2px;left:2px;width:9px;height:9px;border-radius:50%;background:#3af}.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.addcatagory[_ngcontent-%COMP%]{padding:0 20px}.catagoryText[_ngcontent-%COMP%]{display:block;height:30px!important;border:1px solid #ddd!important;font-size:15px!important;color:#000;margin:0!important;padding:0 10px!important;box-sizing:border-box!important}.addcatagory[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;font-weight:500;margin:10px 0;display:block}.customeText.scrollDiv[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto}.addCatagoryA[_ngcontent-%COMP%]{padding:0 20px 10px;display:block;cursor:pointer}.btnDiv.DiF[_ngcontent-%COMP%]{margin:10px 0 20px;display:flex;align-items:center;justify-content:space-between}.cancelBtn[_ngcontent-%COMP%]{background-color:red;margin:2px 2px 2px 81px}.uploadBtnDiv[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;position:relative}.uploadBtnDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;height:100%;z-index:9;width:100%}.uploadBtnDiv[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{width:100%;position:relative;z-index:0}img.UploadedImg[_ngcontent-%COMP%]{width:100%;height:170px;-o-object-fit:cover;object-fit:cover;margin:10px 0}']}),t})();function K(t=1){return e=>e.controls.map(t=>t.value).reduce((t,e)=>e?t+e:t,0)>=t?null:{required:!0}}function J(t,e){if(1&t&&(s.gc(0,"label",28),s.cc(1,"input",29),s.dd(2),s.cc(3,"span",30),s.fc()),2&t){const t=e.index,n=s.uc();s.Ob(1),s.Bc("formControlName",t),s.Ob(1),s.fd(" ",null==n.categoriesData[t]?null:n.categoriesData[t].categoryName," ")}}function Y(t,e){if(1&t){const t=s.hc();s.gc(0,"div",31),s.gc(1,"form",1),s.cc(2,"input",32),s.gc(3,"div",33),s.gc(4,"button",34),s.qc("click",function(){return s.Sc(t),s.uc().addNewCategory()}),s.dd(5," Add New Catagory "),s.fc(),s.gc(6,"button",35),s.qc("click",function(){return s.Sc(t),s.uc().Cancel()}),s.dd(7," Cancel "),s.fc(),s.fc(),s.fc(),s.fc()}if(2&t){const t=s.uc();s.Ob(1),s.Bc("formGroup",t.addNewCateg)}}function W(t,e){if(1&t&&s.cc(0,"img",36),2&t){const t=s.uc();s.Bc("src",t.imgURL,s.Vc)}}let X=(()=>{class t{constructor(t,e,n,o){this.formBuilder=t,this.blogServices=e,this.router=n,this.showAddCatg=!1,this.categoriesData=[],this.blogUrl="",this.showEditUrl=!1,this.tagsAutoData=[],this.tagsData=[],this.PostDescription=[],this.showcatbutton=!0,this.myckeditor=m,this.editor=m,this.permaLink=window.location.href}addCheckboxes(){this.categoriesData.map((t,e)=>{const n=new u.g(0===e);this.addpost.controls.categoriesData.push(n)})}ngOnInit(){this.ckeConfig={allowedContent:!1,forcePasteAsPlainText:!0},this.blogServices.refreshNeeded$.subscribe(()=>{this.getAllCategories()}),this.getAllCategories(),this.currentUserId=JSON.parse(localStorage.getItem("currentUser")).userInfo._id,this.addpost=this.formBuilder.group({title:["",[u.y.required]],postDescription:this.formBuilder.control("",[u.y.required]),categoriesData:new u.d([],Z(1)),tags:this.formBuilder.control("",[u.y.required]),file:this.formBuilder.control("",[u.y.required])}),this.addNewCateg=this.formBuilder.group({categoryName:["",[u.y.required]]})}get f(){return this.addpost.controls}unmask(t){return t.replace(/\s+/g,"-")}onchange(t){this.blogUrl=t.replace(/\s+/g,"-")}showeditUrl(){this.showEditUrl=!1===this.showEditUrl}getAllCategories(){this.blogServices.getBlogCategories().subscribe(t=>{this.categoriesData=t.data,this.addCheckboxes()},t=>console.log(t))}preview(t){if(0===t.length)return;if(null==t[0].type.match(/image\/*/))return void(this.message="Only images are supported.");this.filepath=t[0];var e=new FileReader;this.imagePath=t,e.readAsDataURL(t[0]),e.onload=t=>{this.imgURL=e.result};const n=new FormData;n.append("file",this.filepath),this.blogServices.uploadFile(n).subscribe(t=>{"sucess"==t.message&&(this.imageURL=t.url)})}showAddCatgory(){!1===this.showAddCatg?(this.showAddCatg=!0,this.showvideo=!1):(this.showAddCatg=!1,this.showvideo=!1)}Cancel(){this.showcatbutton=!0,this.showAddCatg=!1}addNewCategory(){this.showcatbutton=!1;let t=this.addNewCateg.controls.categoryName.value.replace(/\s+/g,"-");this.addNewCateg.value.catslug=t,this.blogServices.addNewCateg(this.addNewCateg.value).subscribe(t=>{Materialize.toast(t.message,1e3)},t=>{console.log(t)})}onChange(t){}eventHandler(t){this.tagsArray=t}getData(){const t=this.addpost.value.categoriesData.map((t,e)=>t?this.categoriesData[e]:null).filter(t=>null!==t);this.data={title:this.addpost.controls.title.value,blogUrl:$(".blogurlClass").html(),blogDesciption:this.addpost.controls.postDescription.value,categories:t,tags:JSON.stringify(this.tagsArray),image:this.imageURL,author:this.currentUserId},this.blogServices.addBlogPost(this.data).subscribe(t=>{t&&(Materialize.toast(t.message,1e3),this.router.navigate(["/blog-posts/all-post"]))},t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(s.bc(u.f),s.bc(f.a),s.bc(c.c),s.bc(o.k))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-create-image-post"]],features:[s.Nb([o.k,{provide:o.l,useClass:o.u}])],decls:49,vars:7,consts:[[1,"createpostMainDiv"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"heading"],[1,"clearfix"],[1,"col","m12","s12","l8","FRM"],[1,"inputDiv"],["type","text","placeholder","Enter title here","formControlName","title",1,"titleEnter",3,"input"],[1,"urlDiv"],[1,"blogurlClass"],[1,"editerDIv"],["formControlName","postDescription","name","myckeditor","debounce","500","required","",3,"editor"],[1,"customeKeyword","marT"],[1,"secHead"],[1,"customeText"],[1,"col","m12","s12","l4","FLM"],[1,"btn","publishBtn",3,"click"],[1,"customeText","scrollDiv"],["class","checkboxL","formArrayName","categoriesData",4,"ngFor","ngForOf"],[1,"addCatagoryA",3,"click"],["class","addcatagory",4,"ngIf"],["class","UploadedImg",3,"src",4,"ngIf"],[1,"uploadBtnDiv"],["type","file","accept","image/*","formControlName","file","required","",3,"change"],["file",""],[1,"waves-effect","waves-light","btn","uploadBtn"],[3,"tagListArray"],["formArrayName","categoriesData",1,"checkboxL"],["type","checkbox",3,"formControlName"],[1,"checkmarkC"],[1,"addcatagory"],["type","text","formControlName","categoryName",1,"catagoryText"],[1,"btnDiv","DiF"],[1,"waves-effect","waves-light","btn","addCateButton","marR5",3,"click"],[1,"waves-effect","waves-light","btn","cancelBtn","addCateButton",3,"click"],[1,"UploadedImg",3,"src"]],template:function(t,e){if(1&t){const t=s.hc();s.gc(0,"div",0),s.gc(1,"form",1),s.gc(2,"div",2),s.gc(3,"div",3),s.gc(4,"h4",4),s.dd(5,"Add New Image Post"),s.fc(),s.fc(),s.cc(6,"div",5),s.gc(7,"div",6),s.gc(8,"div",7),s.gc(9,"input",8),s.qc("input",function(){return e.onchange(e.addpost.controls.title.value)}),s.fc(),s.fc(),s.gc(10,"div",9),s.gc(11,"p"),s.gc(12,"b"),s.dd(13,"Permalink:"),s.fc(),s.dd(14),s.gc(15,"span",10),s.dd(16),s.fc(),s.fc(),s.fc(),s.gc(17,"div",11),s.cc(18,"ckeditor",12),s.fc(),s.gc(19,"div",13),s.gc(20,"h4",14),s.dd(21,"custome Keyword"),s.fc(),s.gc(22,"div",15),s.gc(23,"p"),s.dd(24,"First create post for adding keywords."),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(25,"div",16),s.gc(26,"button",17),s.qc("click",function(){return e.getData()}),s.dd(27,"Publish"),s.fc(),s.gc(28,"div",13),s.gc(29,"h4",14),s.dd(30,"Add catagory"),s.fc(),s.gc(31,"div",18),s.bd(32,J,4,2,"label",19),s.fc(),s.gc(33,"a",20),s.qc("click",function(){return e.showAddCatgory()}),s.dd(34," + Add New Category"),s.fc(),s.bd(35,Y,8,1,"div",21),s.fc(),s.gc(36,"div",13),s.gc(37,"h4",14),s.dd(38,"Feature image"),s.fc(),s.gc(39,"div",15),s.gc(40,"a"),s.dd(41,"set feature image"),s.fc(),s.bd(42,W,1,1,"img",22),s.gc(43,"div",23),s.gc(44,"input",24,25),s.qc("change",function(){s.Sc(t);const n=s.Pc(45);return e.preview(n.files)}),s.fc(),s.gc(46,"button",26),s.dd(47," Upload "),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(48,"app-edit-tag",27),s.qc("tagListArray",function(t){return e.eventHandler(t)}),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()}2&t&&(s.Ob(1),s.Bc("formGroup",e.addpost),s.Ob(13),s.fd(" ",e.permaLink," "),s.Ob(2),s.ed(e.blogUrl),s.Ob(2),s.Bc("editor",e.editor),s.Ob(14),s.Bc("ngForOf",e.addpost.controls.categoriesData),s.Ob(3),s.Bc("ngIf",e.showAddCatg),s.Ob(7),s.Bc("ngIf",e.imgURL))},directives:[u.z,u.q,u.j,u.c,u.p,u.h,C.a,u.x,o.n,o.o,M,u.e,u.b],styles:['.formDivCreate[_ngcontent-%COMP%]   .createpostInput[_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:unset}.formDivCreate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}.formDivCreate[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.createpostMainDiv[_ngcontent-%COMP%]{background-color:#fff;padding:1px 30px;margin-top:7px;box-shadow:0 0 10px hsla(0,0%,60%,.1411764705882353)!important}.heading[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;padding:0 10px}.urlDiv[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 0 20px}.urlDiv[_ngcontent-%COMP%]   .titleEnter[_ngcontent-%COMP%]{width:auto;margin:0}.urlDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.titleEnter[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:0 15px!important;box-sizing:border-box!important;background-color:#fff!important}button.okBtn[_ngcontent-%COMP%]{height:45px;min-width:50px;border:1px solid #f1f1f1!important;font-weight:700;margin:0 10px}.urlDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3af;text-decoration:underline!important;-webkit-tap-highlight-color:transparent;cursor:pointer}.AddMediaBtn[_ngcontent-%COMP%]{margin:22px 0;color:#000;background-color:#fff;height:30px;padding:0 20px;font-size:14px;line-height:normal}.editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:auto}.customeKeyword[_ngcontent-%COMP%], .editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.secHead[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0;border-bottom:1px solid #ddd;font-weight:600}.customeText[_ngcontent-%COMP%], .secHead[_ngcontent-%COMP%]{padding:10px 20px}.customeText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0}.marT[_ngcontent-%COMP%]{margin:10px 0 0}.publishBtn[_ngcontent-%COMP%]{border:1px solid #ddd;width:100%;margin-bottom:20px;height:45px;box-shadow:none;background-color:#3ab10a;color:#fff;text-align:center;padding:0 20px;font-weight:600}.publishBtn[_ngcontent-%COMP%]:focus, .publishBtn[_ngcontent-%COMP%]:hover{background-color:#329909!important}.radioBtnL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:3px;left:0;height:15px;width:15px;background-color:transparent;border-radius:50%;border:1px solid #ddd}.radioBtnL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:transparent}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.radioBtnL[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:2px;left:2px;width:9px;height:9px;border-radius:50%;background:#3af}.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.addcatagory[_ngcontent-%COMP%]{padding:0 20px}.catagoryText[_ngcontent-%COMP%]{display:block;height:30px!important;border:1px solid #ddd!important;font-size:15px!important;color:#000;margin:0!important;padding:0 10px!important;box-sizing:border-box!important}.addcatagory[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;font-weight:500;margin:10px 0;display:block}.customeText.scrollDiv[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto}.addCatagoryA[_ngcontent-%COMP%]{padding:0 20px 10px;display:block;cursor:pointer}.btnDiv.DiF[_ngcontent-%COMP%]{margin:10px 0 20px;display:flex;align-items:center;justify-content:space-between}.cancelBtn[_ngcontent-%COMP%]{background-color:#969696}.uploadBtnDiv[_ngcontent-%COMP%]{width:120px;position:relative}.uploadBtnDiv[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;height:100%;z-index:9;width:100%}.uploadBtnDiv[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{width:100%;position:relative;z-index:0}img.UploadedImg[_ngcontent-%COMP%]{width:100%;height:170px;-o-object-fit:cover;object-fit:cover;margin:10px 0}.addCateButton[_ngcontent-%COMP%]{font-size:13px;line-height:1;padding:0 10px}.addCateButton.marR5[_ngcontent-%COMP%]{margin-right:5px}@media only screen and (min-width:320px) and (max-width:1024px){.FRM[_ngcontent-%COMP%]{float:Right}.FLM[_ngcontent-%COMP%]{float:left}}']}),t})();function Z(t=1){return e=>e.controls.map(t=>t.value).reduce((t,e)=>e?t+e:t,0)>=t?null:{required:!0}}var Q=n("k/VO");function tt(t,e){if(1&t&&(s.gc(0,"span"),s.dd(1),s.fc()),2&t){const t=e.$implicit;s.Ob(1),s.fd("",t.categoryName,",")}}function et(t,e){if(1&t){const t=s.hc();s.gc(0,"tr"),s.gc(1,"td"),s.dd(2),s.fc(),s.gc(3,"td"),s.dd(4),s.fc(),s.gc(5,"td"),s.bd(6,tt,2,1,"span",11),s.fc(),s.gc(7,"td"),s.dd(8),s.fc(),s.gc(9,"td"),s.dd(10),s.fc(),s.gc(11,"td"),s.gc(12,"div",21),s.gc(13,"a",22),s.qc("click",function(){s.Sc(t);const n=e.$implicit;return s.uc().editPost(n._id)}),s.dd(14,"Edit"),s.fc(),s.gc(15,"a",23),s.qc("click",function(){s.Sc(t);const n=e.$implicit;return s.uc().confirmDelete(n._id)}),s.dd(16,"Delete"),s.fc(),s.fc(),s.fc(),s.fc()}if(2&t){const t=e.$implicit;s.Ob(2),s.ed(null==t?null:t.title),s.Ob(2),s.ed(null==t||null==t.author?null:t.author.fullName),s.Ob(2),s.Bc("ngForOf",null==t?null:t.categories),s.Ob(2),s.ed(t.createdAt.substring(0,10)),s.Ob(2),s.ed(t.createdAt.substring(0,10))}}function nt(t,e){1&t&&(s.gc(0,"span"),s.dd(1," No data to display "),s.fc())}let ot=(()=>{class t{constructor(t,e,n,o){this._blogservice=t,this.formBuilder=e,this.router=n,this.completerService=o,this.catArray=[],this.limit=100,this.blogSearchForm=this.formBuilder.group({category:["",u.y.required]})}ngOnInit(){$(".modal").modal(),this.getAllBlogs(this.limit),this.createBlogSearchForm()}getAllBlogs(t){this._blogservice.getBlogCategories().subscribe(t=>{this.catArray=t.data,this.dataService=this.completerService.local(this.catArray,"catslug","catslug")}),this._blogservice.getAllBlogPost(t).subscribe(t=>{this.blogPostData=t.data,console.log(this.blogPostData.length),this.blogPostDataLength=this.blogPostData.length},t=>{console.log(t)})}createBlogSearchForm(){this.blogSearchForm=this.formBuilder.group({category:["",u.y.required]})}confirmDelete(t){this.deleteID=t,$("#deleteConfirm").modal("open")}closePopup(){$("#deleteConfirm").modal("close")}removeBlog(){this._blogservice.deleteBlog(this.deleteID).subscribe(t=>{"success"==t.result?Materialize.toast("Blog Deleted successfully",1e3,"rounded"):Materialize.toast("blog not found",1e3,"rounded"),this.getAllBlogs(this.limit)},t=>{console.log(t)})}seachBlog(t){this.limit=10;let e=[];""==this.blogSearchForm.value.category&&this.getAllBlogs(this.limit),e=this.blogSearchForm.value.category.split(","),this._blogservice.getBlogByCategory(e,this.limit).subscribe(t=>{this.blogPostData=t.data},t=>{console.log(t)})}editPost(t){this.router.navigate(["/blog-posts/edit-post",t])}}return t.\u0275fac=function(e){return new(e||t)(s.bc(f.a),s.bc(u.f),s.bc(c.c),s.bc(Q.b))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-all-post"]],decls:43,vars:5,consts:[[1,"ctagoryPagemain"],[1,"pageheading","text-center"],[1,"row"],[1,"col","m12"],[1,"catogoryMain"],[1,"SerchForm",3,"formGroup","ngSubmit"],[1,"searchDiv"],["formControlName","category","placeholder","Search here",1,"serchInput",3,"datasource","minSearchLength"],[1,"commonBtn"],[1,"tableDiv"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","deleteConfirm",1,"modal","modal-fixed-footer","custFooterModal","msgBox","heightAut"],[1,"msgHead"],[1,"modal-content","terms","msgContain"],[1,"regMSG"],[1,"modal-footer","footerPadd"],[1,"text-center","yesNoBtn"],[1,"modal-close","waves-effect","waves-light","btn",3,"click"],[1,"text-center"],[1,"linkDiv"],[1,"editLink","cursor-pointer",3,"click"],[1,"deleteLink","cursor-pointer",3,"click"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"h4",1),s.dd(2,"All Post"),s.fc(),s.gc(3,"div",2),s.gc(4,"div",3),s.gc(5,"div",4),s.gc(6,"form",5),s.qc("ngSubmit",function(){return e.seachBlog("")}),s.gc(7,"div",6),s.cc(8,"ng2-completer",7),s.gc(9,"button",8),s.dd(10,"Search Catagory"),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(11,"div",9),s.gc(12,"table",10),s.gc(13,"thead"),s.gc(14,"tr"),s.gc(15,"th"),s.dd(16,"Title"),s.fc(),s.gc(17,"th"),s.dd(18,"Author"),s.fc(),s.gc(19,"th"),s.dd(20,"Categories"),s.fc(),s.gc(21,"th"),s.dd(22,"Created On"),s.fc(),s.gc(23,"th"),s.dd(24,"Updated On"),s.fc(),s.gc(25,"th"),s.dd(26,"Action"),s.fc(),s.fc(),s.fc(),s.gc(27,"tbody"),s.bd(28,et,17,5,"tr",11),s.fc(),s.bd(29,nt,2,0,"span",12),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(30,"div",13),s.gc(31,"h4",14),s.dd(32,"Delete"),s.fc(),s.gc(33,"div",15),s.gc(34,"h4",16),s.dd(35,"Want to delete category ?"),s.fc(),s.fc(),s.gc(36,"div",17),s.gc(37,"div",18),s.gc(38,"button",19),s.qc("click",function(){return e.removeBlog()}),s.dd(39," Yes "),s.fc(),s.fc(),s.gc(40,"div",20),s.gc(41,"button",19),s.qc("click",function(){return e.closePopup()}),s.dd(42," No "),s.fc(),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(6),s.Bc("formGroup",e.blogSearchForm),s.Ob(2),s.Bc("datasource",e.dataService)("minSearchLength",0),s.Ob(20),s.Bc("ngForOf",e.blogPostData),s.Ob(1),s.Bc("ngIf",e.blogPostDataLength<=0))},directives:[u.z,u.q,u.j,Q.a,u.p,u.h,o.n,o.o],styles:['.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.tableDiv[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.SerchForm[_ngcontent-%COMP%]{width:100%}.searchDiv[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin:15px 0 30px}.ng2-search[_ngcontent-%COMP%]{width:50%}.search-button[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:flex-end}.commonBtn[_ngcontent-%COMP%]{border:1px solid #03a9f4;color:#fff!important;height:40px;min-width:150px;font-size:14px;background-color:#03a9f4;padding:5px 10px}.catogoryMain[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.countList[_ngcontent-%COMP%]{margin:0!important;font-size:15px;color:#000}.table-striped[_ngcontent-%COMP%]{border:1px solid #ddd}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f7f7f7}.tableDiv[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tableDiv[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px}.deleteLink[_ngcontent-%COMP%]{color:red;margin:0 10px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}.msgBox[_ngcontent-%COMP%]{max-height:20%;width:20%;top:30%!important;overflow:hidden}.regMSG[_ngcontent-%COMP%]{font-size:20px!important;font-weight:bolder;overflow:hidden}.msgHead[_ngcontent-%COMP%], .regMSG[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.msgHead[_ngcontent-%COMP%]{color:#3af;font-weight:700;font-size:30px;padding:15px 20px;border-bottom:1px solid #e1e1e1}.msgContain[_ngcontent-%COMP%]{padding:20px!important;height:auto!important;position:unset!important}.text-center[_ngcontent-%COMP%]{text-align:center}.choseLabel[_ngcontent-%COMP%]{position:static;width:100%;float:left;transform:unset}.ctagoryPagemain[_ngcontent-%COMP%]{background-color:#fff;padding:1px 30px;box-sizing:border-box;margin:7px 0;box-shadow:0 0 10px hsla(0,0%,60%,.1411764705882353)!important}.pageheading[_ngcontent-%COMP%]{color:#03a9f4}.footerPadd[_ngcontent-%COMP%]{padding:10px 15px 15px;position:unset!important;float:left;height:auto;display:flex;justify-content:center}.msgBox.heightAut[_ngcontent-%COMP%]{height:auto!important;max-height:unset}.yesNoBtn[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (min-width:320px) and (max-width:450px){.tableDiv[_ngcontent-%COMP%]{max-width:330px;overflow-x:scroll;padding:0}}']}),t})();function ct(t,e){if(1&t){const t=s.hc();s.gc(0,"tr"),s.gc(1,"td"),s.dd(2),s.fc(),s.gc(3,"td"),s.dd(4,"Description"),s.fc(),s.gc(5,"td"),s.dd(6),s.fc(),s.gc(7,"td"),s.dd(8,"2"),s.fc(),s.gc(9,"td"),s.gc(10,"div",28),s.gc(11,"a",29),s.qc("click",function(){s.Sc(t);const n=e.$implicit;return s.uc().loadCategory(n)}),s.dd(12,"Edit"),s.fc(),s.gc(13,"a",30),s.qc("click",function(){s.Sc(t);const n=e.$implicit;return s.uc().confirmDelete(n._id)}),s.dd(14,"Delete"),s.fc(),s.fc(),s.fc(),s.fc()}if(2&t){const t=e.$implicit;s.Ob(2),s.fd(" ",null==t?null:t.categoryName," "),s.Ob(4),s.ed(null==t?null:t.catslug)}}let it=(()=>{class t{constructor(t,e,n){this._blogservice=t,this.formBuilder=e,this.completerService=n,this.category={categoryName:"",_id:""}}ngOnInit(){$(".modal").modal(),this.createCatSearchForm(),this.createcatEditForm(),this.getAllCategories()}getAllCategories(){this._blogservice.getBlogCategories().subscribe(t=>{this.categoriesData=t.data,this.dataService=this.completerService.local(t.data,"categoryName","categoryName")},t=>console.log(t))}searchCategories(){this._blogservice.searchByCategory(this.catSearchForm.value).subscribe(t=>{this.categoriesData=t},t=>{console.log(t),this.ngOnInit()})}createCatSearchForm(){this.catSearchForm=this.formBuilder.group({categoryName:["",[u.y.required]]})}createcatEditForm(){this.catEditForm=this.formBuilder.group({categoryName:[null,[u.y.required]]})}resetCategories(){""==this.catSearchForm.value.categoryName&&this.getAllCategories()}confirmDelete(t){this.deleteID=t,$("#deleteConfirm").modal("open")}deleteCategory(){this._blogservice.removeCategory(this.deleteID).subscribe(t=>{this.ngOnInit(),this.deleteID="",Materialize.toast("Category Deleted successfully",1e3,"rounded")},t=>{console.log(t)})}closePopup(){$("#deleteConfirm").modal("close"),$("#editCategory").modal("close")}loadCategory(t){$("#editCategory").modal("open"),document.getElementById("catname").focus(),this.category.categoryName=t.categoryName,this.category._id=t._id}editCategory(){this.catEditForm.value._id=this.category._id,this.catEditForm.value.catslug=this.catEditForm.value.categoryName.replace(/\s+/g,"-"),this._blogservice.editCategory(this.catEditForm.value).subscribe(t=>{this.getAllCategories(),$("#editCategory").modal("close"),Materialize.toast("Category Updated successfully",1e3,"rounded")},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.bc(f.a),s.bc(u.f),s.bc(Q.b))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-create-category"]],decls:53,vars:5,consts:[[1,"ctagoryPagemain"],[1,"pageheading","text-center"],[1,"row"],[1,"col","m12"],[1,"catogoryMain"],[1,"formDiv",3,"formGroup","ngSubmit"],[1,"searchDiv"],["type","text","formControlName","categoryName","placeholder","Search here",1,"serchInput",3,"input"],["type","submit",1,"commonBtn",3,"disabled"],[1,"tableDiv"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["id","deleteConfirm",1,"modal","modal-fixed-footer","custFooterModal","msgBox","deltPopup"],[1,"msgHead","paddB20"],[1,"modal-content","terms","msgContain"],[1,"regMSG"],[1,"modal-footer","footerPadd"],[1,"col","s4","m6","l6","text-center","marL0"],[1,"modal-close","waves-effect","waves-light","btn",3,"click"],["id","editCategory",1,"modal","modal-fixed-footer","custFooterModal","updatePopup"],[1,"msgHead"],[1,"categoryDiv",3,"formGroup","ngSubmit"],[1,"searchDiv","searchDivN","adminPop"],[1,"popLabel"],["id","catname","type","text","placeholder","Category Name","formControlName","categoryName",1,"serchInput",3,"ngModel","input","ngModelChange"],[1,"btnDiv","searchDiv","searchDivN"],["type","submit",1,"saveBtn","commonbt","waves-effect","waves-light","btn","marR10"],["type","button","value","Cancel",1,"cancelBtn","commonbt","waves-effect","waves-light","btn",3,"click"],[1,"linkDiv"],[1,"editLink","cursor-pointer",3,"click"],[1,"deleteLink","cursor-pointer",3,"click"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"h4",1),s.dd(2,"Categories"),s.fc(),s.gc(3,"div",2),s.gc(4,"div",3),s.gc(5,"div",4),s.gc(6,"form",5),s.qc("ngSubmit",function(){return e.searchCategories()}),s.gc(7,"div",6),s.gc(8,"input",7),s.qc("input",function(){return e.resetCategories()}),s.fc(),s.gc(9,"button",8),s.dd(10," Search Catagory "),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(11,"div",9),s.gc(12,"table",10),s.gc(13,"thead"),s.gc(14,"tr"),s.gc(15,"th"),s.dd(16,"Name"),s.fc(),s.gc(17,"th"),s.dd(18,"Description"),s.fc(),s.gc(19,"th"),s.dd(20,"Slug"),s.fc(),s.gc(21,"th"),s.dd(22,"Count"),s.fc(),s.gc(23,"th"),s.dd(24,"Action"),s.fc(),s.fc(),s.fc(),s.gc(25,"tbody"),s.bd(26,ct,15,2,"tr",11),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(27,"div",12),s.gc(28,"h4",13),s.dd(29,"Delete"),s.fc(),s.gc(30,"div",14),s.gc(31,"h4",15),s.dd(32,"Want to delete category ?"),s.fc(),s.fc(),s.gc(33,"div",16),s.gc(34,"div",17),s.gc(35,"button",18),s.qc("click",function(){return e.deleteCategory()}),s.dd(36," Yes "),s.fc(),s.fc(),s.gc(37,"div",17),s.gc(38,"button",18),s.qc("click",function(){return e.closePopup()}),s.dd(39," No "),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(40,"div",19),s.gc(41,"h4",20),s.dd(42,"Edit Category"),s.fc(),s.gc(43,"div",14),s.gc(44,"form",21),s.qc("ngSubmit",function(){return e.editCategory()}),s.gc(45,"div",22),s.gc(46,"label",23),s.dd(47,"Category Name :"),s.fc(),s.gc(48,"input",24),s.qc("input",function(){return e.resetCategories()})("ngModelChange",function(t){return e.category.categoryName=t}),s.fc(),s.fc(),s.gc(49,"div",25),s.gc(50,"button",26),s.dd(51," Save "),s.fc(),s.gc(52,"input",27),s.qc("click",function(){return e.closePopup()}),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(6),s.Bc("formGroup",e.catSearchForm),s.Ob(3),s.Bc("disabled",e.catSearchForm.invalid),s.Ob(17),s.Bc("ngForOf",e.categoriesData),s.Ob(18),s.Bc("formGroup",e.catEditForm),s.Ob(4),s.Bc("ngModel",e.category.categoryName))},directives:[u.z,u.q,u.j,u.c,u.p,u.h,o.n],styles:['.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkC[_ngcontent-%COMP%]{top:0;left:0}.tableDiv[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.formDiv[_ngcontent-%COMP%]{width:100%}.searchDiv[_ngcontent-%COMP%]{display:flex;align-items:center;margin:15px 0 30px}.searchDiv[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:1px solid #ccc!important;border-radius:0!important;padding:0 10px!important;box-sizing:border-box!important;color:#333;height:40px!important;margin:0!important}.commonBtn[_ngcontent-%COMP%]{border:1px solid #03a9f4;color:#fff!important;height:40px;min-width:150px;font-size:14px;background-color:#03a9f4;padding:5px 10px}.catogoryMain[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.countList[_ngcontent-%COMP%]{margin:0!important;font-size:15px;color:#000}.table-striped[_ngcontent-%COMP%]{border:1px solid #ddd}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f7f7f7}.deleteLink[_ngcontent-%COMP%]{color:red;margin:0 10px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:-7px;left:10px;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.msgBox[_ngcontent-%COMP%]{width:20%;top:30%!important;overflow:hidden}.paddB20[_ngcontent-%COMP%]{padding-bottom:20px}.regMSG[_ngcontent-%COMP%]{font-size:20px!important;font-weight:bolder;overflow:hidden;color:#6a6a6a;margin-bottom:0}.msgHead[_ngcontent-%COMP%], .regMSG[_ngcontent-%COMP%]{text-align:center}.msgHead[_ngcontent-%COMP%]{color:#3af;font-weight:700;font-size:25px;margin:0;padding:15px 20px;border-bottom:1px solid #e1e1e1}.msgContain[_ngcontent-%COMP%]{padding:1px!important}.text-center[_ngcontent-%COMP%]{text-align:center}.choseLabel[_ngcontent-%COMP%]{position:static;width:100%;float:left;transform:unset}.updatePopup[_ngcontent-%COMP%]{max-height:60%;width:34%;top:20%!important;overflow:hidden}.searchDivN[_ngcontent-%COMP%]{justify-content:center;margin:0}.searchDivN[_ngcontent-%COMP%]   input.serchInput[_ngcontent-%COMP%]{width:70%}.searchDivN[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:17px;color:#747474;margin-bottom:10px}.searchDivN[_ngcontent-%COMP%]   .commonbt[_ngcontent-%COMP%]{min-width:150px}.saveBtn[_ngcontent-%COMP%]{background-color:#3af;color:#fff}.cancelBtn[_ngcontent-%COMP%]{background-color:#fff;color:#000}.modal.modal-fixed-footer.updatePopup[_ngcontent-%COMP%]{padding:0;height:auto}.disUnset[_ngcontent-%COMP%]{display:unset}.modal.modal-fixed-footer[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:unset!important;height:unset!important;width:100%;max-height:unset;overflow-y:unset!important}.modal.modal-fixed-footer[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{left:0;bottom:8px!important}h4.pageheading[_ngcontent-%COMP%]{color:#3af}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-large[_ngcontent-%COMP%]{width:100%}.ctagoryPagemain[_ngcontent-%COMP%]{background-color:#fff;padding:1px 30px;margin-top:7px;box-shadow:0 0 10px hsla(0,0%,60%,.1411764705882353)!important}.modal-content.terms.msgContain[_ngcontent-%COMP%]{width:100%;float:left;padding:20px!important}.btnDiv[_ngcontent-%COMP%]{margin:30px 0 10px}.marR10[_ngcontent-%COMP%]{margin-right:10px}.cancelBtn.btn[_ngcontent-%COMP%]{background-color:#969696!important}.adminPop[_ngcontent-%COMP%]   .popLabel[_ngcontent-%COMP%]{width:30%}.deltPopup[_ngcontent-%COMP%]{height:auto}.footerPadd[_ngcontent-%COMP%]{padding:10px 15px 15px;position:unset!important;float:left;height:auto}@media only screen and (min-width:768px) and (max-width:1024px){.updatePopup[_ngcontent-%COMP%]{width:50%}.searchDivN[_ngcontent-%COMP%]   input.serchInput[_ngcontent-%COMP%]{min-width:320px}.catogoryMain[_ngcontent-%COMP%]{padding:0 10px}.formDiv[_ngcontent-%COMP%]{width:100%}.serchInput[_ngcontent-%COMP%]{width:330px!important}.searchDivN[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 7px}.categoryDiv[_ngcontent-%COMP%]{padding-top:0}.msgBox[_ngcontent-%COMP%]{width:40%}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-large[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width:320px) and (max-width:767px){.tableDiv[_ngcontent-%COMP%]{max-width:330px;overflow-x:scroll;padding:0}.msgBox[_ngcontent-%COMP%]{max-height:28%!important}.modal-footer[_ngcontent-%COMP%]{position:unset}.searchDivN[_ngcontent-%COMP%]   input.serchInput[_ngcontent-%COMP%]{min-width:290px}.searchDivN[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 5px}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-flat[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-large[_ngcontent-%COMP%]{width:100%}.disFlex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.marL0[_ngcontent-%COMP%]{margin-left:0!important}.commonBtn[_ngcontent-%COMP%]{font-size:12px}h4.pageheading[_ngcontent-%COMP%]{font-size:26px}}']}),t})();var rt=n("EVdn"),at=n("JqCM");function dt(t,e){if(1&t){const t=s.hc();s.gc(0,"label",6),s.gc(1,"input",7),s.qc("change",function(n){s.Sc(t);const o=e.$implicit;return s.uc().getCheckedCat(o,n)}),s.fc(),s.cc(2,"span",8),s.dd(3),s.fc()}if(2&t){const t=e.$implicit;s.Ob(1),s.Bc("checked",1==(null==t?null:t.selected))("value",null==t?null:t.catslug),s.Ob(2),s.fd(" ",null==t?null:t.categoryName," ")}}function st(t,e){if(1&t){const t=s.hc();s.gc(0,"a",9),s.qc("click",function(){return s.Sc(t),s.uc().showAddCatForm()}),s.dd(1," + Add New Category "),s.fc()}}function gt(t,e){if(1&t){const t=s.hc();s.gc(0,"div",10),s.gc(1,"form",11),s.cc(2,"input",12),s.gc(3,"div",13),s.gc(4,"button",14),s.qc("click",function(){return s.Sc(t),s.uc().addNewCategory()}),s.dd(5," Add New Catagory "),s.fc(),s.gc(6,"button",15),s.qc("click",function(){return s.Sc(t),s.uc().cancelCategory()}),s.dd(7," Cancel "),s.fc(),s.fc(),s.fc(),s.fc()}if(2&t){const t=s.uc();s.Ob(1),s.Bc("formGroup",t.addNewCategForm)}}let lt=(()=>{class t{constructor(t,e,n,o){this.blogServeice=t,this.formBuilder=e,this.router=n,this.spinner=o,this.categoriseArray=new s.r,this.catArray=[]}ngOnInit(){this.spinner.show(),this.createaddNewCategForm(),this.categorise=this.categorise}ngAfterViewInit(){this.categorise=this.categorise,console.log(this.categorise),this.categoriseArray.emit(this.categorise),this.categoriseArray.emit(this.categorise),this.blogServeice.getBlogCategories().subscribe(t=>{this.Categories=t.data,console.log(this.Categories),this.Categories.forEach(t=>{this.catArray.push({_id:t._id,categoryName:t.categoryName,colorCode:t.colorCode,catslug:t.catslug,selected:!1})}),this.getselected(this.catArray,this.categorise)},t=>{console.log(t)}),this.spinner.hide()}getCategories(){}getselected(t,e){var n=!1,o=0;for(let i of e){for(;o<t.length;){if(i.catslug==t[o].catslug){n=!0;break}o++}if(n){var c=this.catArray.findIndex(t=>t.catslug===i.catslug);this.catArray[c].selected=!0}}}createaddNewCategForm(){this.addNewCategForm=this.formBuilder.group({categoryName:["",u.y.required]})}showAddCatForm(){this.showAddCat=!0}cancelCategory(){this.showAddCat=!1}addNewCategory(){this.addNewCategForm.invalid||(this.addNewCategForm.value.catslug=this.addNewCategForm.value.categoryName.replace(/\s+/g,"-"),this.blogServeice.addNewCateg(this.addNewCategForm.value).subscribe(t=>{console.log("response after adding a new catagory",t),this.catArray.push({_id:t.data._id,categoryName:t.data.categoryName,colorCode:t.data.colorCode,catslug:t.data.catslug,selected:!1}),console.log("catagory new array",this.catArray),this.categoriseArray.emit(this.addNewCategForm.value),this.addNewCategForm.get("categoryName").patchValue(""),this.showAddCat=!1,rt(document).ready(function(){rt("#scrollCat").animate({scrollTop:rt("#scrollCat").get(0).scrollHeight},1500)})},t=>{console.log(t)}))}getCheckedCat(t,e){if(!0===e.target.checked)this.categorise.push(t),this.categoriseArray.emit(this.categorise);else if(!1===e.target.checked){console.log("after deselect",t);for(let e=0;e<this.categorise.length;e++)this.categorise[e]._id===t._id&&(console.log("found",t,e),this.categorise.splice(e,1));this.categoriseArray.emit(this.categorise)}this.categoriseArray.emit(this.categorise)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(f.a),s.bc(u.f),s.bc(c.c),s.bc(at.c))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-edit-category"]],inputs:{categorise:"categorise"},outputs:{categoriseArray:"categoriseArray"},decls:7,vars:3,consts:[[1,"customeKeyword","marT"],[1,"secHead"],["id","scrollCat",1,"customeText","scrollDiv"],["class","checkboxL",4,"ngFor","ngForOf"],["class","cursor-pointe addCatagoryA",3,"click",4,"ngIf"],["class","addcatagory",4,"ngIf"],[1,"checkboxL"],["name","select","type","checkbox",3,"checked","value","change"],[1,"checkmarkC"],[1,"cursor-pointe","addCatagoryA",3,"click"],[1,"addcatagory"],[3,"formGroup"],["type","text","formControlName","categoryName",1,"catagoryText"],[1,"btnDiv","DiF"],[1,"waves-effect","waves-light","btn","addCateButton","marR5",3,"click"],[1,"waves-effect","waves-light","btn","cancelBtn","addCateButton",3,"click"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"h4",1),s.dd(2,"Add catagory"),s.fc(),s.gc(3,"div",2),s.bd(4,dt,4,3,"label",3),s.fc(),s.bd(5,st,2,0,"a",4),s.bd(6,gt,8,1,"div",5),s.fc()),2&t&&(s.Ob(4),s.Bc("ngForOf",e.catArray),s.Ob(1),s.Bc("ngIf",!e.showAddCat),s.Ob(1),s.Bc("ngIf",e.showAddCat))},directives:[o.n,o.o,u.z,u.q,u.j,u.c,u.p,u.h],styles:['.formDivCreate[_ngcontent-%COMP%]   .createpostInput[_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:unset}.formDivCreate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}.formDivCreate[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;align-items:center}.createpostMainDiv[_ngcontent-%COMP%]{min-height:calc(100vh - 123px);background-color:#f1f1f1;padding:30px}.heading[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.urlDiv[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 0 20px}.urlDiv[_ngcontent-%COMP%]   .titleEnter[_ngcontent-%COMP%]{width:auto;margin:0}.urlDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.titleEnter[_ngcontent-%COMP%]{border:1px solid #ddd!important;padding:0 15px!important;box-sizing:border-box!important;background-color:#fff!important}.addCatagoryA[_ngcontent-%COMP%]{padding:0 20px 10px;display:block;cursor:pointer}.btnDiv.DiF[_ngcontent-%COMP%]{margin:10px 0 20px;display:flex;align-items:center;justify-content:space-between}.addBtn[_ngcontent-%COMP%]:hover{background-color:#03a9f4}.cancelBtn[_ngcontent-%COMP%]{background-color:#969696}button.okBtn[_ngcontent-%COMP%]{height:45px;min-width:50px;border:1px solid #f1f1f1!important;font-weight:700;margin:0 10px}.urlDiv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3af;text-decoration:underline!important;-webkit-tap-highlight-color:transparent;cursor:pointer}.AddMediaBtn[_ngcontent-%COMP%]{margin:22px 0}.AddBtn[_ngcontent-%COMP%], .AddMediaBtn[_ngcontent-%COMP%]{color:#000;background-color:#fff;height:30px;padding:0 20px;font-size:14px;line-height:normal}.AddBtn[_ngcontent-%COMP%]{margin:10px 0}.editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:auto}.customeKeyword[_ngcontent-%COMP%], .editerDIv[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd}.secHead[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0;border-bottom:1px solid #ddd;font-weight:600}.customeText[_ngcontent-%COMP%], .secHead[_ngcontent-%COMP%]{padding:10px 20px}.customeText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000;margin:0}.marT[_ngcontent-%COMP%]{margin:10px 0 0}.publishBtn[_ngcontent-%COMP%]{border:1px solid #ddd;width:100%;margin-bottom:20px;height:45px;box-shadow:none;background-color:#3af;color:#fff;text-align:left;padding:0 20px;font-weight:600}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{opacity:1;position:unset;pointer-events:painted}.radioBtnL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:1;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:3px;left:0;height:15px;width:15px;background-color:transparent;border-radius:50%;border:1px solid #ddd}.radioBtnL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:transparent}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.radioBtnL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.radioBtnL[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:2px;left:2px;width:9px;height:9px;border-radius:50%;background:#3af}.checkboxL[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:0;cursor:pointer;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#666}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkC[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:18px;width:18px;background-color:transparent;border:1px solid #ddd}.checkboxL[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmarkC[_ngcontent-%COMP%]{background-color:#ccc}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]{background-color:transparent}.checkmarkC[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkboxL[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkC[_ngcontent-%COMP%]:after{display:block}.checkboxL[_ngcontent-%COMP%]   .checkmarkC[_ngcontent-%COMP%]:after{left:6px;top:2px;width:6px;height:10px;border:solid #3af;border-width:0 3px 3px 0;transform:rotate(45deg)}.addcatagory[_ngcontent-%COMP%]{padding:0 20px}.catagoryText[_ngcontent-%COMP%]{display:block;height:30px!important;border:1px solid #ddd!important;font-size:15px;color:#000}.addcatagory[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;font-weight:500;margin:10px 0;display:block}.customeText.scrollDiv[_ngcontent-%COMP%]{max-height:140px;overflow-y:auto}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer!important}.addCateButton[_ngcontent-%COMP%]{font-size:13px;line-height:1;padding:0 10px}.addCateButton.marR5[_ngcontent-%COMP%]{margin-right:5px}']}),t})();const pt=[{path:"",component:h,children:[{path:"create-post",component:D},{path:"edit-post/:blogID",component:G},{path:"create-image-post",component:X},{path:"all-post",component:ot},{path:"create-categories",component:it},{path:"edit-categories",component:lt}]}];let ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({imports:[[c.g.forChild(pt)],c.g]}),t})();var ut=n("evil");let ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({imports:[[o.c,ht,u.k,u.w,ut.a,Q.c,x.c,C.b]]}),t})();s.Wc(G,[u.z,u.q,u.j,u.c,u.p,u.h,C.a,u.x,lt,o.o,M],[])}}]);